d3=function(){function u(e){return e.target}function a(e){return e.source}function v(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function g(e){var t=-1,n=e.length,r=[];while(++t<n)r.push(e[t]);return r}function y(e){return Array.prototype.slice.call(e)}function E(){}function T(e){return e}function N(){return!0}function C(e){return typeof e=="function"?e:function(){return e}}function k(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function L(e){return e!=null&&!isNaN(e)}function A(e){return e.length}function M(e){return e.trim().replace(/\s+/g," ")}function _(e){var t=1;while(e*t%1)t*=10;return t}function P(e){return e.length===1?function(t,n){e(t==null?n:null)}:e}function H(e){return e.responseText}function B(e){return JSON.parse(e.responseText)}function j(e){var t=s.createRange();t.selectNode(s.body);return t.createContextualFragment(e.responseText)}function F(e){return e.responseXML}function q(){}function R(e){function r(){var n=t,r=-1,i=n.length,s;while(++r<i)(s=n[r].on)&&s.apply(this,arguments);return e}var t=[],n=new E;r.on=function(r,i){var s=n.get(r),o;if(arguments.length<2)return s&&s.on;if(s){s.on=null;t=t.slice(0,o=t.indexOf(s)).concat(t.slice(o+1));n.remove(r)}i&&t.push(n.set(r,{on:i}));return e};return r}function W(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function X(e){return e+""}function K(e,t){var n=Math.pow(10,Math.abs(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Z(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function et(e){return function(t){return 1-e(1-t)}}function tt(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function nt(e){return e*e}function rt(e){return e*e*e}function it(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function st(e){return function(t){return Math.pow(t,e)}}function ot(t){return 1-Math.cos(t*e/2)}function ut(e){return Math.pow(2,10*(e-1))}function at(e){return 1-Math.sqrt(1-e*e)}function ft(t,n){var r;arguments.length<2&&(n=.45);arguments.length?r=n/(2*e)*Math.asin(1/t):(t=1,r=n/4);return function(i){return 1+t*Math.pow(2,10*-i)*Math.sin((i-r)*2*e/n)}}function lt(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}}function ct(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function ht(){n.event.stopPropagation();n.event.preventDefault()}function pt(){var e=n.event,t;while(t=e.sourceEvent)e=t;return e}function dt(e){var t=new q,r=0,i=arguments.length;while(++r<i)t[arguments[r]]=R(t);t.of=function(r,i){return function(s){try{var o=s.sourceEvent=n.event;s.target=e;n.event=s;t[s.type].apply(r,i)}finally{n.event=o}}};return t}function vt(e){var t=[e.a,e.b],n=[e.c,e.d],r=gt(t),s=mt(t,n),o=gt(yt(n,t,-s))||0;if(t[0]*n[1]<n[0]*t[1]){t[0]*=-1;t[1]*=-1;r*=-1;s*=-1}this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*i;this.translate=[e.e,e.f];this.scale=[r,o];this.skew=o?Math.atan2(s,o)*i:0}function mt(e,t){return e[0]*t[0]+e[1]*t[1]}function gt(e){var t=Math.sqrt(mt(e,e));if(t){e[0]/=t;e[1]/=t}return t}function yt(e,t,n){e[0]+=n*t[0];e[1]+=n*t[1];return e}function Et(e){return e=="transform"?n.interpolateTransform:n.interpolate}function St(e,t){t=t-(e=+e)?1/(t-e):0;return function(n){return(n-e)*t}}function xt(e,t){t=t-(e=+e)?1/(t-e):0;return function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function Tt(){}function Nt(e,t,n){return new Ct(e,t,n)}function Ct(e,t,n){this.r=e;this.g=t;this.b=n}function Lt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function At(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split(",");switch(o[1]){case"hsl":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(Dt(u[0]),Dt(u[1]),Dt(u[2]))}}if(a=Pt.get(e))return t(a.r,a.g,a.b);if(e!=null&&e.charAt(0)==="#"){if(e.length===4){r=e.charAt(1);r+=r;i=e.charAt(2);i+=i;s=e.charAt(3);s+=s}else if(e.length===7){r=e.substring(1,3);i=e.substring(3,5);s=e.substring(5,7)}r=parseInt(r,16);i=parseInt(i,16);s=parseInt(s,16)}return t(r,i,s)}function Ot(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;if(s){u=a<.5?s/(i+r):s/(2-i-r);e==i?o=(t-n)/s+(t<n?6:0):t==i?o=(n-e)/s+2:o=(e-t)/s+4;o*=60}else u=o=0;return Ht(o,u,a)}function Mt(e,t,n){e=_t(e);t=_t(t);n=_t(n);var r=Zt((.4124564*e+.3575761*t+.1804375*n)/Vt),i=Zt((.2126729*e+.7151522*t+.072175*n)/$t),s=Zt((.0193339*e+.119192*t+.9503041*n)/Jt);return zt(116*i-16,500*(r-i),200*(i-s))}function _t(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Dt(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function Ht(e,t,n){return new Bt(e,t,n)}function Bt(e,t,n){this.h=e;this.s=t;this.l=n}function Ft(e,t,n){function s(e){e>360?e-=360:e<0&&(e+=360);return e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(s(e)*255)}var r,i;e%=360;e<0&&(e+=360);t=t<0?0:t>1?1:t;n=n<0?0:n>1?1:n;i=n<=.5?n*(1+t):n+t-n*t;r=2*n-i;return Nt(o(e+120),o(e),o(e-120))}function It(e,t,n){return new qt(e,t,n)}function qt(e,t,n){this.h=e;this.c=t;this.l=n}function Ut(e,t,n){return zt(n,Math.cos(e*=r)*t,Math.sin(e)*t)}function zt(e,t,n){return new Wt(e,t,n)}function Wt(e,t,n){this.l=e;this.a=t;this.b=n}function Qt(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;i=Yt(i)*Vt;r=Yt(r)*$t;s=Yt(s)*Jt;return Nt(en(3.2404542*i-1.5371385*r-.4985314*s),en(-0.969266*i+1.8760108*r+.041556*s),en(.0556434*i-.2040259*r+1.0572252*s))}function Gt(t,n,r){return It(Math.atan2(r,n)/e*180,Math.sqrt(n*n+r*r),t)}function Yt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function Zt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function en(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function tn(e){w(e,an);return e}function fn(e){return function(){return nn(e,this)}}function ln(e){return function(){return rn(e,this)}}function cn(e,t){function r(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function s(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function u(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}function a(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}e=n.ns.qualify(e);return t==null?e.local?i:r:typeof t=="function"?e.local?a:u:e.local?o:s}function hn(e){return new RegExp("(?:^|\\s+)"+n.requote(e)+"(?:\\s+|$)","g")}function pn(e,t){function r(){var r=-1;while(++r<n)e[r](this,t)}function i(){var r=-1,i=t.apply(this,arguments);while(++r<n)e[r](this,i)}e=e.trim().split(/\s+/).map(dn);var n=e.length;return typeof t=="function"?i:r}function dn(e){var t=hn(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.className,s=i.baseVal!=null,o=s?i.baseVal:i;if(r){t.lastIndex=0;if(!t.test(o)){o=M(o+" "+e);s?i.baseVal=o:n.className=o}}else if(o){o=M(o.replace(t," "));s?i.baseVal=o:n.className=o}}}function vn(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return t==null?r:typeof t=="function"?s:i}function mn(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return t==null?n:typeof t=="function"?i:r}function gn(e){return{__data__:e}}function yn(e){return function(){return un(this,e)}}function bn(e){arguments.length||(e=n.ascending);return function(t,n){return!t-!n||e(t.__data__,n.__data__)}}function wn(e,t,r){function o(){var t=this[i];if(t){this.removeEventListener(e,t,t.$);delete this[i]}}function u(){function a(e){var r=n.event;n.event=e;u[0]=s.__data__;try{t.apply(s,u)}finally{n.event=r}}var s=this,u=m(arguments);o.call(this);this.addEventListener(e,this[i]=a,a.$=r);a._=t}var i="__on"+e,s=e.indexOf(".");s>0&&(e=e.substring(0,s));return t?u:o}function En(e,t){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],s=0,o=i.length,u;s<o;s++)(u=i[s])&&t(u,s,n);return e}function xn(e){w(e,Tn);return e}function Nn(e,t){w(e,Cn);e.id=t;return e}function On(e,t,r,i){var s=e.__transition__||(e.__transition__={active:0,count:0}),o=s[r];if(!o){var u=i.time;o=s[r]={tween:new E,event:n.dispatch("start","end"),time:u,ease:i.ease,delay:i.delay,duration:i.duration};++s.count;n.timer(function(i){function d(i){if(s.active>r)return m();s.active=r;l.start.call(e,a,t);o.tween.forEach(function(n,r){(r=r.call(e,a,t))&&p.push(r)});v(i)||n.timer(v,0,u);return 1}function v(n){if(s.active!==r)return m();var i=(n-c)/h,o=f(i),u=p.length;while(u>0)p[--u].call(e,o);if(i>=1){m();l.end.call(e,a,t);return 1}}function m(){--s.count?delete s[r]:delete e.__transition__;return 1}var a=e.__data__,f=o.ease,l=o.event,c=o.delay,h=o.duration,p=[];return c<=i?d(i):n.timer(d,c,u),1},0,u);return o}}function Mn(e){e==null&&(e="");return function(){this.textContent=e}}function _n(e,t,n,r){var i=e.id;return En(e,typeof n=="function"?function(e,s,o){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,s,o)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Fn(){var e,t=Date.now(),n=Hn;while(n){e=t-n.then;e>=n.delay&&(n.flush=n.callback(e));n=n.next}var r=In()-t;if(r>24){if(isFinite(r)){clearTimeout(jn);jn=setTimeout(Fn,r)}Bn=0}else{Bn=1;qn(Fn)}}function In(){var e=null,t=Hn,n=Infinity;while(t)if(t.flush){delete Pn[t.callback.id];t=e?e.next=t.next:Hn=t.next}else{n=Math.min(n,t.then+t.delay);t=(e=t).next}return n}function Un(e,t){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(Rn<0&&(o.scrollX||o.scrollY)){r=n.select(s.body).append("svg").style("position","absolute").style("top",0).style("left",0);var u=r[0][0].getScreenCTM();Rn=!u.f&&!u.e;r.remove()}if(Rn){i.x=t.pageX;i.y=t.pageY}else{i.x=t.clientX;i.y=t.clientY}i=i.matrixTransform(e.getScreenCTM().inverse());return[i.x,i.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function zn(){}function Wn(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Xn(e){return e.rangeExtent?e.rangeExtent():Wn(e.range())}function Vn(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;if(s<i){o=n,n=r,r=o;o=i,i=s,s=o}if(t=t(s-i)){e[n]=t.floor(i);e[r]=t.ceil(s)}return e}function $n(){return Math}function Jn(e,t,r,i){function u(){var u=Math.min(e.length,t.length)>2?tr:er,f=i?xt:St;s=u(e,t,f,r);o=u(t,e,f,n.interpolate);return a}function a(e){return s(e)}var s,o;a.invert=function(e){return o(e)};a.domain=function(t){if(!arguments.length)return e;e=t.map(Number);return u()};a.range=function(e){if(!arguments.length)return t;t=e;return u()};a.rangeRound=function(e){return a.range(e).interpolate(n.interpolateRound)};a.clamp=function(e){if(!arguments.length)return i;i=e;return u()};a.interpolate=function(e){if(!arguments.length)return r;r=e;return u()};a.ticks=function(t){return Yn(e,t)};a.tickFormat=function(t){return Zn(e,t)};a.nice=function(){Vn(e,Qn);return u()};a.copy=function(){return Jn(e,t,r,i)};return u()}function Kn(e,t){return n.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Qn(e){e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1);return e&&{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function Gn(e,t){var n=Wn(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2);n[0]=Math.ceil(n[0]/i)*i;n[1]=Math.floor(n[1]/i)*i+i*.5;n[2]=i;return n}function Yn(e,t){return n.range.apply(n,Gn(e,t))}function Zn(e,t){return n.format(",."+Math.max(0,-Math.floor(Math.log(Gn(e,t)[2])/Math.LN10+.01))+"f")}function er(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function tr(e,t,r,i){var s=[],o=[],u=0,a=Math.min(e.length,t.length)-1;if(e[a]<e[0]){e=e.slice().reverse();t=t.slice().reverse()}while(++u<=a){s.push(r(e[u-1],e[u]));o.push(i(t[u-1],t[u]))}return function(t){var r=n.bisect(e,t,1,a)-1;return o[r](s[r](t))}}function nr(e,t){function r(n){return e(t(n))}var n=t.pow;r.invert=function(t){return n(e.invert(t))};r.domain=function(i){if(!arguments.length)return e.domain().map(n);t=i[0]<0?sr:ir;n=t.pow;e.domain(i.map(t));return r};r.nice=function(){e.domain(Vn(e.domain(),$n));return r};r.ticks=function(){var r=Wn(e.domain()),i=[];if(r.every(isFinite)){var s=Math.floor(r[0]),o=Math.ceil(r[1]),u=n(r[0]),a=n(r[1]);if(t===sr){i.push(n(s));for(;s++<o;)for(var f=9;f>0;f--)i.push(n(s)*f)}else{for(;s<o;s++)for(var f=1;f<10;f++)i.push(n(s)*f);i.push(n(s))}for(s=0;i[s]<u;s++);for(o=i.length;i[o-1]>a;o--);i=i.slice(s,o)}return i};r.tickFormat=function(e,i){arguments.length<2&&(i=rr);if(!arguments.length)return i;var s=Math.max(.1,e/r.ticks().length),o=t===sr?(u=-1e-12,Math.floor):(u=1e-12,Math.ceil),u;return function(e){return e/n(o(t(e)+u))<=s?i(e):""}};r.copy=function(){return nr(e.copy(),t)};return Kn(r,e)}function ir(e){return Math.log(e<0?0:e)/Math.LN10}function sr(e){return-Math.log(e>0?0:-e)/Math.LN10}function or(e,t){function i(t){return e(n(t))}var n=ur(t),r=ur(1/t);i.invert=function(t){return r(e.invert(t))};i.domain=function(t){if(!arguments.length)return e.domain().map(r);e.domain(t.map(n));return i};i.ticks=function(e){return Yn(i.domain(),e)};i.tickFormat=function(e){return Zn(i.domain(),e)};i.nice=function(){return i.domain(Vn(i.domain(),Qn))};i.exponent=function(e){if(!arguments.length)return t;var s=i.domain();n=ur(t=e);r=ur(1/t);return i.domain(s)};i.copy=function(){return or(e.copy(),t)};return Kn(i,e)}function ur(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ar(e,t){function o(t){return i[((r.get(t)||r.set(t,e.push(t)))-1)%i.length]}function u(t,r){return n.range(e.length).map(function(e){return t+r*e})}var r,i,s;o.domain=function(n){if(!arguments.length)return e;e=[];r=new E;var i=-1,s=n.length,u;while(++i<s)r.has(u=n[i])||r.set(u,e.push(u));return o[t.t].apply(o,t.a)};o.range=function(e){if(!arguments.length)return i;i=e;s=0;t={t:"range",a:arguments};return o};o.rangePoints=function(n,r){arguments.length<2&&(r=0);var a=n[0],f=n[1],l=(f-a)/(Math.max(1,e.length-1)+r);i=u(e.length<2?(a+f)/2:a+l*r/2,l);s=0;t={t:"rangePoints",a:arguments};return o};o.rangeBands=function(n,r,a){arguments.length<2&&(r=0);arguments.length<3&&(a=r);var f=n[1]<n[0],l=n[f-0],c=n[1-f],h=(c-l)/(e.length-r+2*a);i=u(l+h*a,h);f&&i.reverse();s=h*(1-r);t={t:"rangeBands",a:arguments};return o};o.rangeRoundBands=function(n,r,a){arguments.length<2&&(r=0);arguments.length<3&&(a=r);var f=n[1]<n[0],l=n[f-0],c=n[1-f],h=Math.floor((c-l)/(e.length-r+2*a)),p=c-l-(e.length-r)*h;i=u(l+Math.round(p/2),h);f&&i.reverse();s=Math.round(h*(1-r));t={t:"rangeRoundBands",a:arguments};return o};o.rangeBand=function(){return s};o.rangeExtent=function(){return Wn(t.a[0])};o.copy=function(){return ar(e,t)};return o.domain(e)}function pr(e,t){function i(){var i=0,o=t.length;r=[];while(++i<o)r[i-1]=n.quantile(e,i/o);return s}function s(e){return isNaN(e=+e)?NaN:t[n.bisect(r,e)]}var r;s.domain=function(t){if(!arguments.length)return e;e=t.filter(function(e){return!isNaN(e)}).sort(n.ascending);return i()};s.range=function(e){if(!arguments.length)return t;t=e;return i()};s.quantiles=function(){return r};s.copy=function(){return pr(e,t)};return i()}function dr(e,t,n){function s(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){r=n.length/(t-e);i=n.length-1;return s}var r,i;s.domain=function(n){if(!arguments.length)return[e,t];e=+n[0];t=+n[n.length-1];return o()};s.range=function(e){if(!arguments.length)return n;n=e;return o()};s.copy=function(){return dr(e,t,n)};return o()}function vr(e,t){function r(r){return t[n.bisect(e,r)]}r.domain=function(t){if(!arguments.length)return e;e=t;return r};r.range=function(e){if(!arguments.length)return t;t=e;return r};r.copy=function(){return vr(e,t)};return r}function mr(e){function t(e){return+e}t.invert=t;t.domain=t.range=function(n){if(!arguments.length)return e;e=n.map(t);return t};t.ticks=function(t){return Yn(e,t)};t.tickFormat=function(t){return Zn(e,t)};t.copy=function(){return mr(e)};return t}function br(e){return e.innerRadius}function wr(e){return e.outerRadius}function Er(e){return e.startAngle}function Sr(e){return e.endAngle}function xr(e){function u(s){function d(){u.push("M",i(e(a),o))}var u=[],a=[],f=-1,l=s.length,c,h=C(t),p=C(n);while(++f<l)if(r.call(this,c=s[f],f))a.push([+h.call(this,c,f),+p.call(this,c,f)]);else if(a.length){d();a=[]}a.length&&d();return u.length?u.join(""):null}var t=Tr,n=Nr,r=N,i=kr,s=i.key,o=.7;u.x=function(e){if(!arguments.length)return t;t=e;return u};u.y=function(e){if(!arguments.length)return n;n=e;return u};u.defined=function(e){if(!arguments.length)return r;r=e;return u};u.interpolate=function(e){if(!arguments.length)return s;typeof e=="function"?s=i=e:s=(i=Cr.get(e)||kr).key;return u};u.tension=function(e){if(!arguments.length)return o;o=e;return u};return u}function Tr(e){return e[0]}function Nr(e){return e[1]}function kr(e){return e.join("L")}function Lr(e){return kr(e)+"Z"}function Ar(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Or(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Mr(e,t){return e.length<4?kr(e):e[1]+Pr(e.slice(1,e.length-1),Hr(e,t))}function _r(e,t){return e.length<3?kr(e):e[0]+Pr((e.push(e[0]),e),Hr([e[e.length-2]].concat(e,[e[1]]),t))}function Dr(e,t){return e.length<3?kr(e):e[0]+Pr(e,Hr(e,t))}function Pr(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return kr(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;if(n){r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1];i=e[1];a=2}if(t.length>1){u=t[1];s=e[a];a++;r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++){s=e[a];u=t[f];r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function Hr(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a){i=s;s=o;o=e[u];n.push([r*(o[0]-i[0]),r*(o[1]-i[1])])}return n}function Br(e){if(e.length<3)return kr(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s];Wr(a,o,u);while(++t<n){r=e[t];o.shift();o.push(r[0]);u.shift();u.push(r[1]);Wr(a,o,u)}t=-1;while(++t<2){o.shift();o.push(r[0]);u.shift();u.push(r[1]);Wr(a,o,u)}return a.join("")}function jr(e){if(e.length<4)return kr(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3){i=e[n];s.push(i[0]);o.push(i[1])}t.push(qr(zr,s)+","+qr(zr,o));--n;while(++n<r){i=e[n];s.shift();s.push(i[0]);o.shift();o.push(i[1]);Wr(t,s,o)}return t.join("")}function Fr(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4){s=e[n%r];o.push(s[0]);u.push(s[1])}t=[qr(zr,o),",",qr(zr,u)];--n;while(++n<i){s=e[n%r];o.shift();o.push(s[0]);u.shift();u.push(s[1]);Wr(t,o,u)}return t.join("")}function Ir(e,t){var n=e.length-1;if(n){var r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n){a=e[u];f=u/n;a[0]=t*a[0]+(1-t)*(r+f*s);a[1]=t*a[1]+(1-t)*(i+f*o)}}return Br(e)}function qr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Wr(e,t,n){e.push("C",qr(Rr,t),",",qr(Rr,n),",",qr(Ur,t),",",qr(Ur,n),",",qr(zr,t),",",qr(zr,n))}function Xr(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Vr(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=Xr(i,s);while(++t<n)r[t]=(o+(o=Xr(i=s,s=e[t+1])))/2;r[t]=o;return r}function $r(e){var t=[],n,r,i,s,o=Vr(e),u=-1,a=e.length-1;while(++u<a){n=Xr(e[u],e[u+1]);if(Math.abs(n)<1e-6)o[u]=o[u+1]=0;else{r=o[u]/n;i=o[u+1]/n;s=r*r+i*i;if(s>9){s=n*3/Math.sqrt(s);o[u]=s*r;o[u+1]=s*i}}}u=-1;while(++u<=a){s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u]));t.push([s||0,o[u]*s||0])}return t}function Jr(e){return e.length<3?kr(e):e[0]+Pr(e,$r(e))}function Kr(e){var t,n=-1,r=e.length,i,s;while(++n<r){t=e[n];i=t[0];s=t[1]+gr;t[0]=i*Math.cos(s);t[1]=i*Math.sin(s)}return e}function Qr(e){function c(u){function x(){c.push("M",o(e(p),l),f,a(e(h.reverse()),l),"Z")}var c=[],h=[],p=[],d=-1,v=u.length,m,g=C(t),y=C(r),b=t===n?function(){return E}:C(n),w=r===i?function(){return S}:C(i),E,S;while(++d<v)if(s.call(this,m=u[d],d)){h.push([E=+g.call(this,m,d),S=+y.call(this,m,d)]);p.push([+b.call(this,m,d),+w.call(this,m,d)])}else if(h.length){x();h=[];p=[]}h.length&&x();return c.length?c.join(""):null}var t=Tr,n=Tr,r=0,i=Nr,s=N,o=kr,u=o.key,a=o,f="L",l=.7;c.x=function(e){if(!arguments.length)return n;t=n=e;return c};c.x0=function(e){if(!arguments.length)return t;t=e;return c};c.x1=function(e){if(!arguments.length)return n;n=e;return c};c.y=function(e){if(!arguments.length)return i;r=i=e;return c};c.y0=function(e){if(!arguments.length)return r;r=e;return c};c.y1=function(e){if(!arguments.length)return i;i=e;return c};c.defined=function(e){if(!arguments.length)return s;s=e;return c};c.interpolate=function(e){if(!arguments.length)return u;typeof e=="function"?u=o=e:u=(o=Cr.get(e)||kr).key;a=o.reverse||o;f=o.closed?"M":"L";return c};c.tension=function(e){if(!arguments.length)return l;l=e;return c};return c}function Gr(e){return e.radius}function Yr(e){return[e.x,e.y]}function Zr(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+gr;return[n*Math.cos(r),n*Math.sin(r)]}}function ei(){return 64}function ti(){return"circle"}function ni(t){var n=Math.sqrt(t/e);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+ -n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function ai(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function fi(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function li(e,t,n){i=[];if(n&&t.length>1){var r=Wn(e.domain()),i,s=-1,o=t.length,u=(t[1]-t[0])/++n,a,f;while(++s<o)for(a=n;--a>0;)(f=+t[s]-a*u)>=r[0]&&i.push(f);for(--s,a=0;++a<n&&(f=+t[s]+a*u)<r[1];)i.push(f)}return i}function mi(e){var t=e.source,n=e.target,r=yi(t,n),i=[t];while(t!==r){t=t.parent;i.push(t)}var s=i.length;while(n!==r){i.splice(s,0,n);n=n.parent}return i}function gi(e){var t=[],n=e.parent;while(n!=null){t.push(e);e=n;n=n.parent}t.push(e);return t}function yi(e,t){if(e===t)return e;var n=gi(e),r=gi(t),i=n.pop(),s=r.pop(),o=null;while(i===s){o=i;i=n.pop();s=r.pop()}return o}function bi(e){e.fixed|=2}function wi(e){e.fixed&=-7}function Ei(e){e.fixed|=4;e.px=e.x,e.py=e.y}function Si(e){e.fixed&=-5}function xi(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;xi(a,t,n);e.charge+=a.charge;r+=a.charge*a.cx;i+=a.charge*a.cy}}if(e.point){if(!e.leaf){e.point.x+=Math.random()-.5;e.point.y+=Math.random()-.5}var f=t*n[e.point.index];e.charge+=e.pointCharge=f;r+=f*e.point.x;i+=f*e.point.y}e.cx=r/e.charge;e.cy=i/e.charge}function ki(e){return e.x}function Li(e){return e.y}function Ai(e,t,n){e.y0=t;e.y=n}function _i(e){return n.range(e.length)}function Di(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function Pi(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t)if((i=e[t][1])>r){n=t;r=i}return n}function Hi(e){return e.reduce(Bi,0)}function Bi(e,t){return e+t[1]}function ji(e,t){return Fi(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Fi(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function Ii(e){return[n.min(e),n.max(e)]}function qi(e,t){n.rebind(e,t,"sort","children","value");e.nodes=e;e.links=Wi;return e}function Ri(e){return e.children}function Ui(e){return e.value}function zi(e,t){return t.value-e.value}function Wi(e){return n.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Xi(e,t){return e.value-t.value}function Vi(e,t){var n=e._pack_next;e._pack_next=t;t._pack_prev=e;t._pack_next=n;n._pack_prev=t}function $i(e,t){e._pack_next=t;t._pack_prev=e}function Ji(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-n*n-r*r>.001}function Ki(e){function p(e){n=Math.min(e.x-e.r,n);r=Math.max(e.x+e.r,r);i=Math.min(e.y-e.r,i);s=Math.max(e.y+e.r,s)}if(!(t=e.children)||!(h=t.length))return;var t,n=Infinity,r=-Infinity,i=Infinity,s=-Infinity,o,u,a,f,l,c,h;t.forEach(Qi);o=t[0];o.x=-o.r;o.y=0;p(o);if(h>1){u=t[1];u.x=u.r;u.y=0;p(u);if(h>2){a=t[2];Zi(o,u,a);p(a);Vi(o,a);o._pack_prev=a;Vi(a,u);u=o._pack_next;for(f=3;f<h;f++){Zi(o,u,a=t[f]);var d=0,v=1,m=1;for(l=u._pack_next;l!==u;l=l._pack_next,v++)if(Ji(l,a)){d=1;break}if(d==1)for(c=o._pack_prev;c!==l._pack_prev;c=c._pack_prev,m++)if(Ji(c,a))break;if(d){v<m||v==m&&u.r<o.r?$i(o,u=l):$i(o=c,u);f--}else{Vi(o,a);u=a;p(a)}}}}var g=(n+r)/2,y=(i+s)/2,b=0;for(f=0;f<h;f++){a=t[f];a.x-=g;a.y-=y;b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y))}e.r=b;t.forEach(Gi)}function Qi(e){e._pack_next=e._pack_prev=e}function Gi(e){delete e._pack_next;delete e._pack_prev}function Yi(e,t,n,r){var i=e.children;e.x=t+=r*e.x;e.y=n+=r*e.y;e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)Yi(i[s],t,n,r)}}function Zi(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o;r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s;n.y=e.y+a*s-f*i}else{n.x=e.x+r;n.y=e.y}}function es(e){return 1+n.max(e,function(e){return e.y})}function ts(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function ns(e){var t=e.children;return t&&t.length?ns(t[0]):e}function rs(e){var t=e.children,n;return t&&(n=t.length)?rs(t[n-1]):e}function is(e,t){return e.parent==t.parent?1:2}function ss(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function os(e){var t=e.children,n;return t&&(n=t.length)?t[n-1]:e._tree.thread}function us(e,t){var n=e.children;if(n&&(i=n.length)){var r,i,s=-1;while(++s<i)t(r=us(n[s],t),e)>0&&(e=r)}return e}function as(e,t){return e.x-t.x}function fs(e,t){return t.x-e.x}function ls(e,t){return e.depth-t.depth}function cs(e,t){function n(e,r){var i=e.children;if(i&&(a=i.length)){var s,o=null,u=-1,a;while(++u<a){s=i[u];n(s,o);o=s}}t(e,r)}n(e,null)}function hs(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0){s=r[i]._tree;s.prelim+=t;s.mod+=t;t+=s.shift+(n+=s.change)}}function ps(e,t,n){e=e._tree;t=t._tree;var r=n/(t.number-e.number);e.change+=r;t.change-=r;t.shift+=n;t.prelim+=n;t.mod+=n}function ds(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function vs(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function ms(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];if(i<0){n+=i/2;i=0}if(s<0){r+=s/2;s=0}return{x:n,y:r,dx:i,dy:s}}function gs(e,t){function s(e,r){return n.xhr(e,t,r).response(o)}function o(e){return s.parse(e.responseText)}function u(t){return t.map(a).join(e)}function a(e){return r.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var r=new RegExp('["'+e+"\n]"),i=e.charCodeAt(0);s.parse=function(e){var t;return s.parseRows(e,function(e){if(t)return t(e);t=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")})};s.parseRows=function(e,t){function c(){if(u>=o)return r;if(l)return l=!1,n;var t=u;if(e.charCodeAt(t)===34){var s=t;while(s++<o)if(e.charCodeAt(s)===34){if(e.charCodeAt(s+1)!==34)break;++s}u=s+2;var a=e.charCodeAt(s+1);if(a===13){l=!0;e.charCodeAt(s+2)===10&&++u}else a===10&&(l=!0);return e.substring(t+1,s).replace(/""/g,'"')}while(u<o){var a=e.charCodeAt(u++),f=1;if(a===10)l=!0;else if(a===13){l=!0;e.charCodeAt(u)===10&&(++u,++f)}else if(a!==i)continue;return e.substring(t,u-f)}return e.substring(t)}var n={},r={},s=[],o=e.length,u=0,a=0,f,l;while((f=c())!==r){var h=[];while(f!==n&&f!==r){h.push(f);f=c()}if(t&&!(h=t(h,a++)))continue;s.push(h)}return s};s.format=function(e){return e.map(u).join("\n")};return s}function ys(e,t){ws.hasOwnProperty(e.type)&&ws[e.type](e,t)}function Es(e,t,n){var r=-1,i=e.length-n,s;t.lineStart();while(++r<i)s=e[r],t.point(s[0],s[1]);t.lineEnd()}function Ss(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)Es(e[n],t,1);t.polygonEnd()}function xs(e){return[Math.atan2(e[1],e[0]),Math.asin(Math.max(-1,Math.min(1,e[2])))]}function Ts(e,n){return Math.abs(e[0]-n[0])<t&&Math.abs(e[1]-n[1])<t}function Ns(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Cs(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ks(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ls(e,t){e[0]+=t[0];e[1]+=t[1];e[2]+=t[2]}function As(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Os(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t;e[1]/=t;e[2]/=t}function Ms(e){function i(t){function c(n,r){n=e(n,r);t.point(n[0],n[1])}function h(){i=NaN;l.point=p;t.lineStart()}function p(l,c){var h=Ns([l,c]),p=e(l,c);s(i,o,n,u,a,f,i=p[0],o=p[1],n=l,u=h[0],a=h[1],f=h[2],r,t);t.point(i,o)}function d(){l.point=c;t.lineEnd()}function v(){var e,c,v,m,g,y,b;h();l.point=function(t,n){p(e=t,c=n),v=i,m=o,g=u,y=a,b=f;l.point=p};l.lineEnd=function(){s(i,o,n,u,a,f,v,m,e,g,y,b,r,t);l.lineEnd=d;d()}}var n,i,o,u,a,f,l={point:c,lineStart:h,lineEnd:d,polygonStart:function(){t.polygonStart();l.lineStart=v},polygonEnd:function(){t.polygonEnd();l.lineStart=h}};return l}function s(r,i,o,u,a,f,l,c,h,p,d,v,m,g){var y=l-r,b=c-i,w=y*y+b*b;if(w>4*n&&m--){var E=u+p,S=a+d,x=f+v,T=Math.sqrt(E*E+S*S+x*x),N=Math.asin(x/=T),C=Math.abs(Math.abs(x)-1)<t?(o+h)/2:Math.atan2(S,E),k=e(C,N),L=k[0],A=k[1],O=L-r,M=A-i,_=b*O-y*M;if(_*_/w>n||Math.abs((y*O+b*M)/w-.5)>.3){s(r,i,o,u,a,f,L,A,C,E/=T,S/=T,x,m,g);g.point(L,A);s(L,A,C,E,S,x,l,c,h,p,d,v,m,g)}}}var n=.5,r=16;i.precision=function(e){if(!arguments.length)return Math.sqrt(n);r=(n=e*e)>0&&16;return i};return i}function _s(e,t){function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),s-n*Math.cos(e)]}var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),s=Math.sqrt(i)/r;o.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/r,Math.asin((i-(e*e+n*n)*r*r)/(2*r))]};return o}function Hs(e){function u(e,n){e<t&&(t=e);e>i&&(i=e);n<r&&(r=n);n>s&&(s=n)}function a(){o.point=o.lineEnd=zn}var t,r,i,s,o={point:u,lineStart:zn,lineEnd:zn,polygonStart:function(){o.lineEnd=a},polygonEnd:function(){o.point=u}};return function(u){s=i=-(t=r=Infinity);n.geo.stream(u,e(o));return[[t,r],[i,s]]}}function Us(e,t){if(Bs)return;++js;e*=r;var n=Math.cos(t*=r);Fs+=(n*Math.cos(e)-Fs)/js;Is+=(n*Math.sin(e)-Is)/js;qs+=(Math.sin(t)-qs)/js}function zs(){var e,t;Bs=1;Ws();Bs=2;var n=Rs.point;Rs.point=function(r,i){n(e=r,t=i)};Rs.lineEnd=function(){Rs.point(e,t);Xs();Rs.lineEnd=Xs}}function Ws(){function i(i,s){i*=r;var o=Math.cos(s*=r),u=o*Math.cos(i),a=o*Math.sin(i),f=Math.sin(s),l=Math.atan2(Math.sqrt((l=t*f-n*a)*l+(l=n*u-e*f)*l+(l=e*a-t*u)*l),e*u+t*a+n*f);js+=l;Fs+=l*(e+(e=u));Is+=l*(t+(t=a));qs+=l*(n+(n=f))}var e,t,n;if(Bs>1)return;if(Bs<1){Bs=1;js=Fs=Is=qs=0}Rs.point=function(s,o){s*=r;var u=Math.cos(o*=r);e=u*Math.cos(s);t=u*Math.sin(s);n=Math.sin(o);Rs.point=i}}function Xs(){Rs.point=Us}function Vs(t,n){var r=Math.cos(t),i=Math.sin(t);return function(s,o,u,a){if(s!=null){s=$s(r,s);o=$s(r,o);if(u>0?s<o:s>o)s+=u*2*e}else{s=t+u*2*e;o=t}var f;for(var l=u*n,c=s;u>0?c>o:c<o;c-=l)a.point((f=xs([r,-i*Math.cos(c),-i*Math.sin(c)]))[0],f[1])}}function $s(e,n){var r=Ns(n);r[0]-=e;Os(r);var i=Math.acos(Math.max(-1,Math.min(1,-r[1])));return((-r[2]<0?-i:i)+2*Math.PI-t)%(2*Math.PI)}function Js(e,r,i){return function(s){function a(t,n){e(t,n)&&s.point(t,n)}function f(e,t){o.point(e,t)}function l(){u.point=f;o.lineStart()}function c(){u.point=a;o.lineEnd()}function b(e,t){g.point(e,t);y.push([e,t])}function w(){g.lineStart();y=[]}function E(){b(y[0][0],y[0][1]);g.lineEnd();var e=g.clean(),t=m.buffer(),n,r=t.length;if(!r){v=!0;d+=eo(y,-1);y=null;return}y=null;if(e&1){n=t[0];p+=eo(n,1);var r=n.length-1,i=-1,o;s.lineStart();while(++i<r)s.point((o=n[i])[0],o[1]);s.lineEnd();return}r>1&&e&2&&t.push(t.pop().concat(t.shift()));h.push(t.filter(Ys))}var o=r(s),u={point:a,lineStart:l,lineEnd:c,polygonStart:function(){u.point=b;u.lineStart=w;u.lineEnd=E;v=!1;d=p=0;h=[];s.polygonStart()},polygonEnd:function(){u.point=a;u.lineStart=l;u.lineEnd=c;h=n.merge(h);if(h.length)Ks(h,i,s);else if(p<-t||v&&d<-t){s.lineStart();i(null,null,1,s);s.lineEnd()}s.polygonEnd();h=null},sphere:function(){s.polygonStart();s.lineStart();i(null,null,1,s);s.lineEnd();s.polygonEnd()}},h,p,d,v,m=Zs(),g=r(m),y;return u}}function Ks(e,t,n){var r=[],i=[];e.forEach(function(e){if((t=e.length)<=1)return;var t,s=e[0],o=e[t-1];if(Ts(s,o)){n.lineStart();for(var u=0;u<t;++u)n.point((s=e[u])[0],s[1]);n.lineEnd();return}var a={point:s,points:e,other:null,visited:!1,entry:!0,subject:!0},f={point:s,points:[s],other:a,visited:!1,entry:!1,subject:!1};a.other=f;r.push(a);i.push
(f);a={point:o,points:[o],other:null,visited:!1,entry:!1,subject:!0};f={point:o,points:[o],other:a,visited:!1,entry:!0,subject:!1};a.other=f;r.push(a);i.push(f)});i.sort(Gs);Qs(r);Qs(i);if(!r.length)return;var s=r[0],o,u,a;for(;;){o=s;while(o.visited)if((o=o.next)===s)return;u=o.points;n.lineStart();do{o.visited=o.other.visited=!0;if(o.entry){if(o.subject)for(var f=0;f<u.length;f++)n.point((a=u[f])[0],a[1]);else t(o.point,o.next.point,1,n);o=o.next}else{if(o.subject){u=o.prev.points;for(var f=u.length;--f>=0;)n.point((a=u[f])[0],a[1])}else t(o.point,o.prev.point,-1,n);o=o.prev}o=o.other;u=o.points}while(!o.visited);n.lineEnd()}}function Qs(e){if(!(t=e.length))return;var t,n=0,r=e[0],i;while(++n<t){r.next=i=e[n];i.prev=r;r=i}r.next=i=e[0];i.prev=r}function Gs(n,r){return((n=n.point)[0]<0?n[1]-e/2-t:e/2-n[1])-((r=r.point)[0]<0?r[1]-e/2-t:e/2-r[1])}function Ys(e){return e.length>1}function Zs(){var e=[],t;return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:zn,buffer:function(){var n=e;e=[];t=null;return n}}}function eo(n,r){if(!(i=n.length))return 0;var i,s=0,o=0,u=n[0],a=u[0],f=u[1],l=Math.cos(f),c=Math.atan2(r*Math.sin(a)*l,Math.sin(f)),h=1-r*Math.cos(a)*l,p=c,d,v;while(++s<i){u=n[s];l=Math.cos(f=u[1]);d=Math.atan2(r*Math.sin(a=u[0])*l,Math.sin(f));v=1-r*Math.cos(a)*l;if(Math.abs(h-2)<t&&Math.abs(v-2)<t)continue;Math.abs(v)<t||Math.abs(h)<t||(Math.abs(Math.abs(d-c)-e)<t?v+h>2&&(o+=4*(d-c)):Math.abs(h-2)<t?o+=4*(d-p):o+=((3*e+d-c)%(2*e)-e)*(h+v));p=c,c=d,h=v}return o}function no(n){var r=NaN,i=NaN,s=NaN,o;return{lineStart:function(){n.lineStart();o=1},point:function(u,a){var f=u>0?e:-e,l=Math.abs(u-r);if(Math.abs(l-e)<t){n.point(r,i=(i+a)/2>0?e/2:-e/2);n.point(s,i);n.lineEnd();n.lineStart();n.point(f,i);n.point(u,i);o=0}else if(s!==f&&l>=e){Math.abs(r-s)<t&&(r-=s*t);Math.abs(u-f)<t&&(u-=f*t);i=ro(r,i,u,a);n.point(s,i);n.lineEnd();n.lineStart();n.point(f,i);o=0}n.point(r=u,i=a);s=f},lineEnd:function(){n.lineEnd();r=i=NaN},clean:function(){return 2-o}}}function ro(e,n,r,i){var s,o,u=Math.sin(e-r);return Math.abs(u)>t?Math.atan((Math.sin(n)*(o=Math.cos(i))*Math.sin(r)-Math.sin(i)*(s=Math.cos(n))*Math.sin(e))/(s*o*u)):(n+i)/2}function io(n,r,i,s){var o;if(n==null){o=i*e/2;s.point(-e,o);s.point(0,o);s.point(e,o);s.point(e,0);s.point(e,-o);s.point(0,-o);s.point(-e,-o);s.point(-e,0);s.point(-e,o)}else if(Math.abs(n[0]-r[0])>t){var u=(n[0]<r[0]?1:-1)*e;o=i*u/2;s.point(-u,o);s.point(0,o);s.point(u,o)}else s.point(r[0],r[1])}function so(e){function o(e,t){return Math.cos(e)*Math.cos(t)>i}function u(e){var n,r,i,s;return{lineStart:function(){i=r=!1;s=1},point:function(u,f){var l=[u,f],c,h=o(u,f);!n&&(i=r=h)&&e.lineStart();if(h!==r){c=a(n,l);if(Ts(n,c)||Ts(l,c)){l[0]+=t;l[1]+=t;h=o(l[0],l[1])}}if(h!==r){s=0;if(r=h){e.lineStart();c=a(l,n);e.point(c[0],c[1])}else{c=a(n,l);e.point(c[0],c[1]);e.lineEnd()}n=c}h&&(!n||!Ts(n,l))&&e.point(l[0],l[1]);n=l},lineEnd:function(){r&&e.lineEnd();n=null},clean:function(){return s|(i&&r)<<1}}}function a(e,t){var n=Ns(e,0),r=Ns(t,0),s=[1,0,0],o=ks(n,r),u=Cs(o,o),a=o[0],f=u-a*a;if(!f)return e;var l=i*u/f,c=-i*a/f,h=ks(s,o),p=As(s,l),d=As(o,c);Ls(p,d);var v=h,m=Cs(p,v),g=Cs(v,v),y=Math.sqrt(m*m-g*(Cs(p,p)-1)),b=As(v,(-m-y)/g);Ls(b,p);return xs(b)}var n=e*r,i=Math.cos(n),s=Vs(n,6*r);return Js(o,u,s)}function oo(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])});return n}function uo(e,t){return[e,t]}function fo(e,r,i){var s=n.range(e,r-t,i).concat(r);return function(e){return s.map(function(t){return[e,t]})}}function lo(e,r,i){var s=n.range(e,r-t,i).concat(r);return function(e){return s.map(function(t){return[t,e]})}}function co(e){return(e=Math.sin(e/2))*e}function ho(e,t,n,r){var s=Math.cos(t),o=Math.sin(t),u=Math.cos(r),a=Math.sin(r),f=s*Math.cos(e),l=s*Math.sin(e),c=u*Math.cos(n),h=u*Math.sin(n),p=2*Math.asin(Math.sqrt(co(r-t)+s*u*co(n-e))),d=1/Math.sin(p),v=p?function(e){var t=Math.sin(e*=p)*d,n=Math.sin(p-e)*d,r=n*f+t*c,s=n*l+t*h,u=n*o+t*a;return[Math.atan2(s,r)*i,Math.atan2(u,Math.sqrt(r*r+s*s))*i]}:function(){return[e*i,t*i]};v.distance=p;return v}function po(t,n){return[t/(2*e),Math.max(-0.5,Math.min(.5,Math.log(Math.tan(e/4+n/2))/(2*e)))]}function mo(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function go(e){var t=Ms(function(t,n){return e([t*i,n*i])});return function(e){e=t(e);return{point:function(t,n){e.point(t*r,n*r)},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}}function yo(){function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r);n.point=s}function s(e,n){t.push("L",e,",",n)}function o(){n.point=r}function u(){t.push("Z")}var e=mo(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o;n.point=r},pointRadius:function(t){e=mo(t);return n},result:function(){if(t.length){var e=t.join("");t=[];return e}}};return n}function bo(t){function i(r,i){t.moveTo(r,i);t.arc(r,i,n,0,2*e)}function s(e,n){t.moveTo(e,n);r.point=o}function o(e,n){t.lineTo(e,n)}function u(){r.point=i}function a(){t.closePath()}var n=4.5,r={point:i,lineStart:function(){r.point=s},lineEnd:u,polygonStart:function(){r.lineEnd=a},polygonEnd:function(){r.lineEnd=u;r.point=i},pointRadius:function(e){n=e;return r},result:zn};return r}function xo(){function i(e,t){Eo+=r*e-n*t;n=e,r=t}var e,t,n,r;So.point=function(s,o){So.point=i;e=n=s,t=r=o};So.lineEnd=function(){i(e,t)}}function No(e,t){if(Bs)return;Fs+=e;Is+=t;++qs}function Co(){function n(n,r){var i=n-e,s=r-t,o=Math.sqrt(i*i+s*s);Fs+=o*(e+n)/2;Is+=o*(t+r)/2;qs+=o;e=n,t=r}var e,t;if(Bs!==1){if(!(Bs<1))return;Bs=1;Fs=Is=qs=0}To.point=function(r,i){To.point=n;e=r,t=i}}function ko(){To.point=No}function Lo(){function i(e,t){var i=r*e-n*t;Fs+=i*(n+e);Is+=i*(r+t);qs+=i*3;n=e,r=t}var e,t,n,r;if(Bs<2){Bs=2;Fs=Is=qs=0}To.point=function(s,o){To.point=i;e=n=s,t=r=o};To.lineEnd=function(){i(e,t)}}function Do(){function u(t,n){t*=r;n=n*r/2+e/4;var u=t-i,a=Math.cos(n),f=Math.sin(n),l=o*f,c=Oo,h=Mo,p=s*a+l*Math.cos(u),d=l*Math.sin(u);Oo=c*p-h*d;Mo=h*p+c*d;i=t,s=a,o=f}var t,n,i,s,o;_o.point=function(a,f){_o.point=u;i=(t=a)*r,s=Math.cos(f=(n=f)*r/2+e/4),o=Math.sin(f)};_o.lineEnd=function(){u(t,n)}}function Po(e){return Ho(function(){return e})()}function Ho(e){function w(e){e=o(e[0]*r,e[1]*r);return[e[0]*a+m,g-e[1]*a]}function E(e){e=o.invert((e[0]-m)/a,(g-e[1])/a);return e&&[e[0]*i,e[1]*i]}function S(){o=oo(s=jo(p,d,v),t);var e=t(c,h);m=f-e[0]*a;g=l+e[1]*a;return w}var t,s,o,u=Ms(function(e,n){e=t(e,n);return[e[0]*a+m,g-e[1]*a]}),a=150,f=480,l=250,c=0,h=0,p=0,d=0,v=0,m,g,y=to,b=null;w.stream=function(e){return Bo(s,y(u(e)))};w.clipAngle=function(e){if(!arguments.length)return b;y=e==null?(b=e,to):so(b=+e);return w};w.scale=function(e){if(!arguments.length)return a;a=+e;return S()};w.translate=function(e){if(!arguments.length)return[f,l];f=+e[0];l=+e[1];return S()};w.center=function(e){if(!arguments.length)return[c*i,h*i];c=e[0]%360*r;h=e[1]%360*r;return S()};w.rotate=function(e){if(!arguments.length)return[p*i,d*i,v*i];p=e[0]%360*r;d=e[1]%360*r;v=e.length>2?e[2]%360*r:0;return S()};n.rebind(w,u,"precision");return function(){t=e.apply(this,arguments);w.invert=t.invert&&E;return S()}}function Bo(t,n){return{point:function(i,s){s=t(i*r,s*r),i=s[0];n.point(i>e?i-2*e:i<-e?i+2*e:i,s[1])},sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function jo(e,t,n){return e?t||n?oo(Io(e),qo(t,n)):Io(e):t||n?qo(t,n):uo}function Fo(t){return function(n,r){return n+=t,[n>e?n-2*e:n<-e?n+2*e:n,r]}}function Io(e){var t=Fo(e);t.invert=Fo(-e);return t}function qo(e,t){function o(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*n+u*r;return[Math.atan2(a*i-l*s,u*n-f*r),Math.asin(Math.max(-1,Math.min(1,l*i+a*s)))]}var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),s=Math.sin(t);o.invert=function(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*i-a*s;return[Math.atan2(a*i+f*s,u*n+l*r),Math.asin(Math.max(-1,Math.min(1,l*n-u*r)))]};return o}function Uo(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),s=e(r*i);return[s*i*Math.sin(t),s*Math.sin(n)]}n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*s,r*o),Math.asin(r&&n*s/r)]};return n}function zo(e,t,n,r){var i,s,o,u,a,f,l;i=r[e];s=i[0];o=i[1];i=r[t];u=i[0];a=i[1];i=r[n];f=i[0];l=i[1];return(l-o)*(u-s)-(a-o)*(f-s)>0}function Wo(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Xo(e,t,n,r){var i=e[0],s=n[0],o=t[0]-i,u=r[0]-s,a=e[1],f=n[1],l=t[1]-a,c=r[1]-f,h=(u*(a-f)-c*(i-s))/(c*o-u*l);return[i+h*o,a+h*l]}function $o(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l");r.rightEnd=r.createHalfEdge(null,"l");r.leftEnd.r=r.rightEnd;r.rightEnd.l=r.leftEnd;r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e;t.r=e.r;e.r.l=t;e.r=t},leftBound:function(e){var t=r.leftEnd;do t=t.r;while(t!=r.rightEnd&&i.rightOf(t,e));t=t.l;return t},del:function(e){e.l.r=e.r;e.r.l=e.l;e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[Vo[e.side]]}},i={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},r=t.x-e.x,i=t.y-e.y,s=r>0?r:-r,o=i>0?i:-i;n.c=e.x*r+e.y*i+(r*r+i*i)*.5;if(s>o){n.a=1;n.b=i/r;n.c/=r}else{n.b=1;n.a=r/i;n.c/=i}return n},intersect:function(e,t){var n=e.edge,r=t.edge;if(!n||!r||n.region.r==r.region.r)return null;var i=n.a*r.b-n.b*r.a;if(Math.abs(i)<1e-10)return null;var s=(n.c*r.b-r.c*n.b)/i,o=(r.c*n.a-n.c*r.a)/i,u=n.region.r,a=r.region.r,f,l;if(u.y<a.y||u.y==a.y&&u.x<a.x){f=e;l=n}else{f=t;l=r}var c=s>=l.region.r.x;return c&&f.side==="l"||!c&&f.side==="r"?null:{x:s,y:o}},rightOf:function(e,t){var n=e.edge,r=n.region.r,i=t.x>r.x;if(i&&e.side==="l")return 1;if(!i&&e.side==="r")return 0;if(n.a===1){var s=t.y-r.y,o=t.x-r.x,u=0,a=0;if(!i&&n.b<0||i&&n.b>=0)a=u=s>=n.b*o;else{a=t.x+t.y*n.b>n.c;n.b<0&&(a=!a);a||(u=1)}if(!u){var f=r.x-n.region.l.x;a=n.b*(o*o-s*s)<f*s*(1+2*o/f+n.b*n.b);n.b<0&&(a=!a)}}else{var l=n.c-n.a*t.x,c=t.y-l,h=t.x-r.x,p=l-r.y;a=c*c>h*h+p*p}return e.side==="l"?a:!a},endPoint:function(e,n,r){e.ep[n]=r;if(!e.ep[Vo[n]])return;t(e)},distance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},s={list:[],insert:function(e,t,n){e.vertex=t;e.ystar=t.y+n;for(var r=0,i=s.list,o=i.length;r<o;r++){var u=i[r];if(e.ystar>u.ystar||e.ystar==u.ystar&&t.x>u.vertex.x)continue;break}i.splice(r,0,e)},del:function(e){for(var t=0,n=s.list,r=n.length;t<r&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return s.list.length===0},nextEvent:function(e){for(var t=0,n=s.list,r=n.length;t<r;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=s.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return s.list.shift()}};r.init();n.bottomSite=n.list.shift();var o=n.list.shift(),u,a,f,l,c,h,p,d,v,m,g,y,b;for(;;){s.empty()||(u=s.min());if(o&&(s.empty()||o.y<u.y||o.y==u.y&&o.x<u.x)){a=r.leftBound(o);f=r.right(a);p=r.rightRegion(a);y=i.bisect(p,o);h=r.createHalfEdge(y,"l");r.insert(a,h);m=i.intersect(a,h);if(m){s.del(a);s.insert(a,m,i.distance(m,o))}a=h;h=r.createHalfEdge(y,"r");r.insert(a,h);m=i.intersect(h,f);m&&s.insert(h,m,i.distance(m,o));o=n.list.shift()}else{if(!!s.empty())break;a=s.extractMin();l=r.left(a);f=r.right(a);c=r.right(f);p=r.leftRegion(a);d=r.rightRegion(f);g=a.vertex;i.endPoint(a.edge,a.side,g);i.endPoint(f.edge,f.side,g);r.del(a);s.del(f);r.del(f);b="l";if(p.y>d.y){v=p;p=d;d=v;b="r"}y=i.bisect(p,d);h=r.createHalfEdge(y,b);r.insert(l,h);i.endPoint(y,Vo[b],g);m=i.intersect(l,h);if(m){s.del(l);s.insert(l,m,i.distance(m,p))}m=i.intersect(h,c);m&&s.insert(h,m,i.distance(m,p))}}for(a=r.right(r.leftEnd);a!=r.rightEnd;a=r.right(a))t(a.edge)}function Jo(){return{leaf:!0,nodes:[],point:null}}function Ko(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=(n+i)*.5,u=(r+s)*.5,a=t.nodes;a[0]&&Ko(e,a[0],n,r,o,u);a[1]&&Ko(e,a[1],o,r,i,u);a[2]&&Ko(e,a[2],n,u,o,s);a[3]&&Ko(e,a[3],o,u,i,s)}}function Yo(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function uu(e,t,n,r){var i,s,o=0,u=t.length,a=n.length;while(o<u){if(r>=a)return-1;i=t.charCodeAt(o++);if(i===37){s=bu[t.charAt(o++)];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function au(e){return new RegExp("^(?:"+e.map(n.requote).join("|")+")","i")}function fu(e){var t=new E,n=-1,r=e.length;while(++n<r)t.set(e[n].toLowerCase(),n);return t}function lu(e,t,n){e+="";var r=e.length;return r<n?(new Array(n-r+1)).join(t)+e:e}function wu(e,t,n){hu.lastIndex=0;var r=hu.exec(t.substring(n));return r?n+=r[0].length:-1}function Eu(e,t,n){cu.lastIndex=0;var r=cu.exec(t.substring(n));return r?n+=r[0].length:-1}function Su(e,t,n){vu.lastIndex=0;var r=vu.exec(t.substring(n));return r?(e.m=mu.get(r[0].toLowerCase()),n+=r[0].length):-1}function xu(e,t,n){pu.lastIndex=0;var r=pu.exec(t.substring(n));return r?(e.m=du.get(r[0].toLowerCase()),n+=r[0].length):-1}function Tu(e,t,n){return uu(e,yu.c.toString(),t,n)}function Nu(e,t,n){return uu(e,yu.x.toString(),t,n)}function Cu(e,t,n){return uu(e,yu.X.toString(),t,n)}function ku(e,t,n){Bu.lastIndex=0;var r=Bu.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+=r[0].length):-1}function Lu(e,t,n){Bu.lastIndex=0;var r=Bu.exec(t.substring(n,n+2));return r?(e.y=Au(+r[0]),n+=r[0].length):-1}function Au(e){return e+(e>68?1900:2e3)}function Ou(e,t,n){Bu.lastIndex=0;var r=Bu.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+=r[0].length):-1}function Mu(e,t,n){Bu.lastIndex=0;var r=Bu.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+=r[0].length):-1}function _u(e,t,n){Bu.lastIndex=0;var r=Bu.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+=r[0].length):-1}function Du(e,t,n){Bu.lastIndex=0;var r=Bu.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+=r[0].length):-1}function Pu(e,t,n){Bu.lastIndex=0;var r=Bu.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+=r[0].length):-1}function Hu(e,t,n){Bu.lastIndex=0;var r=Bu.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+=r[0].length):-1}function ju(e,t,n){var r=Fu.get(t.substring(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}function Iu(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return n+lu(r,"0",2)+lu(i,"0",2)}function Ru(e){return e.toISOString()}function Uu(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){t(n=e(new Qo(n-1)),1);return n}function s(e,n){t(e=new Qo(+e),n);return e}function o(e,r,s){var o=i(e),u=[];if(s>1)while(o<r){n(o)%s||u.push(new Date(+o));t(o,1)}else while(o<r)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{Qo=Yo;var r=new Yo;r._=e;return o(r,t,n)}finally{Qo=Date}}e.floor=e;e.round=r;e.ceil=i;e.offset=s;e.range=o;var a=e.utc=zu(e);a.floor=a;a.round=zu(r);a.ceil=zu(i);a.offset=zu(s);a.range=u;return e}function zu(e){return function(t,n){try{Qo=Yo;var r=new Yo;r._=t;return e(r,n)._}finally{Qo=Date}}}function Wu(e,t,r){function i(t){return e(t)}i.invert=function(t){return Vu(e.invert(t))};i.domain=function(t){if(!arguments.length)return e.domain().map(Vu);e.domain(t);return i};i.nice=function(e){return i.domain(Vn(i.domain(),function(){return e}))};i.ticks=function(r,s){var o=Xu(i.domain());if(typeof r!="function"){var u=o[1]-o[0],a=u/r,f=n.bisect(Qu,a);if(f==Qu.length)return t.year(o,r);if(!f)return e.ticks(r).map(Vu);Math.log(a/Qu[f-1])<Math.log(Qu[f]/a)&&--f;r=t[f];s=r[1];r=r[0].range}return r(o[0],new Date(+o[1]+1),s)};i.tickFormat=function(){return r};i.copy=function(){return Wu(e.copy(),t,r)};return n.rebind(i,e,"range","rangeRound","interpolate","clamp")}function Xu(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Vu(e){return new Date(e)}function $u(e){return function(t){var n=e.length-1,r=e[n];while(!r[1](t))r=e[--n];return r[0](t)}}function Ju(e){var t=new Date(e,0,1);t.setFullYear(e);return t}function Ku(e){var t=e.getFullYear(),n=Ju(t),r=Ju(t+1);return t+(e-n)/(r-n)}function ia(e){var t=new Date(Date.UTC(e,0,1));t.setUTCFullYear(e);return t}function sa(e){var t=e.getUTCFullYear(),n=ia(t),r=ia(t+1);return t+(e-n)/(r-n)}var e=Math.PI,t=1e-6,n={version:"3.0.8"},r=e/180,i=180/e,s=document,o=window,f=".",l=",",c=[3,3];Date.now||(Date.now=function(){return+(new Date)});try{s.createElement("div").style.setProperty("opacity",0,"")}catch(h){var p=o.CSSStyleDeclaration.prototype,d=p.setProperty;p.setProperty=function(e,t,n){d.call(this,e,t+"",n)}}var m=y;try{m(s.documentElement.childNodes)[0].nodeType}catch(b){m=g}var w=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};n.map=function(e){var t=new E;for(var n in e)t.set(n,e[n]);return t};v(E,{has:function(e){return S+e in this},get:function(e){return this[S+e]},set:function(e,t){return this[S+e]=t},remove:function(e){e=S+e;return e in this&&delete this[e]},keys:function(){var e=[];this.forEach(function(t){e.push(t)});return e},values:function(){var e=[];this.forEach(function(t,n){e.push(n)});return e},entries:function(){var e=[];this.forEach(function(t,n){e.push({key:t,value:n})});return e},forEach:function(e){for(var t in this)t.charCodeAt(0)===x&&e.call(this,t.substring(1),this[t])}});var S="\0",x=S.charCodeAt(0);n.functor=C;n.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=k(e,t,t[i]);return e};n.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};n.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN};n.mean=function(e,t){var n=e.length,r,i=0,s=-1,o=0;if(arguments.length===1)while(++s<n)L(r=e[s])&&(i+=(r-i)/++o);else while(++s<n)L(r=t.call(e,e[s],s))&&(i+=(r-i)/++o);return o?i:undefined};n.median=function(e,t){arguments.length>1&&(e=e.map(t));e=e.filter(L);return e.length?n.quantile(e.sort(n.ascending),.5):undefined};n.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&i>s&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&i>s&&(i=s)}return i};n.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&s>i&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&s>i&&(i=s)}return i};n.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&((i=o=e[n])==null||i!=i))i=o=undefined;while(++n<r)if((s=e[n])!=null){i>s&&(i=s);o<s&&(o=s)}}else{while(++n<r&&((i=o=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)if((s=t.call(e,e[n],n))!=null){i>s&&(i=s);o<s&&(o=s)}}return[i,o]};n.random={normal:function(e,t){var n=arguments.length;n<2&&(t=1);n<1&&(e=0);return function(){var n,r,i;do{n=Math.random()*2-1;r=Math.random()*2-1;i=n*n+r*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=n.random.normal.apply(n,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}}};n.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1)while(++s<r)isNaN(i=+e[s])||(n+=i);else while(++s<r)isNaN(i=+t.call(e,e[s],s))||(n+=i);return n};n.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i};n.shuffle=function(e){var t=e.length,n,r;while(t){r=Math.random()*t--|0;n=e[t],e[t]=e[r],e[r]=n}return e};n.transpose=function(e){return n.zip.apply(n,e)};n.zip=function(){if(!(s=arguments.length))return[];for(var e=-1,t=n.min(arguments,A),r=new Array(t);++e<t;)for(var i=-1,s,o=r[e]=new Array(s);++i<s;)o[i]=arguments[i][e];return r};n.bisector=function(e){return{left:function(t,n,r,i){arguments.length<3&&(r=0);arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;e.call(t,t[s],s)<n?r=s+1:i=s}return r},right:function(t,n,r,i){arguments.length<3&&(r=0);arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;n<e.call(t,t[s],s)?i=s:r=s+1}return r}}};var O=n.bisector(function(e){return e});n.bisectLeft=O.left;n.bisect=n.bisectRight=O.right;n.nest=function(){function s(n,o){if(o>=t.length)return i?i.call(e,n):r?n.sort(r):n;var u=-1,a=n.length,f=t[o++],l,c,h=new E,p,d={};while(++u<a)(p=h.get(l=f(c=n[u])))?p.push(c):h.set(l,[c]);h.forEach(function(e,t){d[e]=s(t,o)});return d}function o(e,r){if(r>=t.length)return e;var i=[],s=n[r++],u;for(u in e)i.push({key:u,values:o(e[u],r)});s&&i.sort(function(e,t){return s(e.key,t.key)});return i}var e={},t=[],n=[],r,i;e.map=function(e){return s(e,0)};e.entries=function(e){return o(s(e,0),0)};e.key=function(n){t.push(n);return e};e.sortKeys=function(r){n[t.length-1]=r;return e};e.sortValues=function(t){r=t;return e};e.rollup=function(t){i=t;return e};return e};n.keys=function(e){var t=[];for(var n in e)t.push(n);return t};n.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t};n.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};n.permute=function(e,t){var n=[],r=-1,i=t.length;while(++r<i)n[r]=e[t[r]];return n};n.merge=function(e){return Array.prototype.concat.apply([],e)};n.range=function(e,t,n){if(arguments.length<3){n=1;if(arguments.length<2){t=e;e=0}}if((t-e)/n===Infinity)throw new Error("infinite range");var r=[],i=_(Math.abs(n)),s=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++s)>t)r.push(o/i);else while((o=e+n*++s)<t)r.push(o/i);return r};n.requote=function(e){return e.replace(D,"\\$&")};var D=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;n.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};n.xhr=function(e,t,r){function l(){var e=f.status;!e&&f.responseText||e>=200&&e<300||e===304?s.load.call(i,a.call(i,f)):s.error.call(i,f)}var i={},s=n.dispatch("progress","load","error"),u={},a=T,f=new(o.XDomainRequest&&/^(http(s)?:)?\/\//.test(e)?XDomainRequest:XMLHttpRequest);"onload"in f?f.onload=f.onerror=l:f.onreadystatechange=function(){f.readyState>3&&l()};f.onprogress=function(e){var t=n.event;n.event=e;try{s.progress.call(i,f)}finally{n.event=t}};i.header=function(e,t){e=(e+"").toLowerCase();if(arguments.length<2)return u[e];t==null?delete u[e]:u[e]=t+"";return i};i.mimeType=function(e){if(!arguments.length)return t;t=e==null?null:e+"";return i};i.response=function(e){a=e;return i};["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(m(arguments)))}});i.send=function(n,r,s){arguments.length===2&&typeof r=="function"&&(s=r,r=null);f.open(n,e,!0);t!=null&&!("accept"in u)&&(u.accept=t+",*/*");if(f.setRequestHeader)for(var o in u)f.setRequestHeader(o,u[o]);t!=null&&f.overrideMimeType&&f.overrideMimeType(t);s!=null&&i.on("error",s).on("load",function(e){s(null,e)});f.send(r==null?null:r);return i};i.abort=function(){f.abort();return i};n.rebind(i,s,"on");arguments.length===2&&typeof t=="function"&&(r=t,t=null);return r==null?i:i.get(P(r))};n.text=function(){return n.xhr.apply(n,arguments).response(H)};n.json=function(e,t){return n.xhr(e,"application/json",t).response(B)};n.html=function(e,t){return n.xhr(e,"text/html",t).response(j)};n.xml=function(){return n.xhr.apply(n,arguments).response(F)};var I={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:I,qualify:function(e){var t=e.indexOf(":"),n=e;if(t>=0){n=e.substring(0,t);e=e.substring(t+1)}return I.hasOwnProperty(n)?{space:I[n],local:e}:e}};n.dispatch=function(){var e=new q,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=R(e);return e};q.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>0){r=e.substring(n+1);e=e.substring(0,n)}return arguments.length<2?this[e].on(r):this[e].on(r,t)};n.format=function(e){var t=U.exec(e),r=t[1]||" ",i=t[2]||">",s=t[3]||"",o=t[4]||"",u=t[5],a=+t[6],l=t[7],c=t[8],h=t[9],p=1,d="",v=!1;c&&(c=+c.substring(1));if(u||r==="0"&&i==="="){u=r="0";i="=";l&&(a-=Math.floor((a-1)/4))}switch(h){case"n":l=!0;h="g";break;case"%":p=100;d="%";h="f";break;case"p":p=100;d="%";h="r";break;case"b":case"o":case"x":case"X":o&&(o="0"+h.toLowerCase());case"c":case"d":v=!0;c=0;break;case"s":p=-1;h="r"}o==="#"&&(o="");h=="r"&&!c&&(h="g");h=z.get(h)||X;var m=u&&l;return function(e){if(v&&e%1)return"";var t=e<0||e===0&&1/e<0?(e=-e,"-"):s;if(p<0){var g=n.formatPrefix(e,c);e=g.scale(e);d=g.symbol}else e*=p;e=h(e,c);!u&&l&&(e=V(e));var y=o.length+e.length+(m?0:t.length),b=y<a?(new Array(y=a-y+1)).join(r):"";m&&(e=V(b+e));f&&e.replace(".",f);t+=o;return(i==="<"?t+e+b:i===">"?b+t+e:i==="^"?b.substring(0,y>>=1)+t+e+b.substring(y):t+(m?e:b+e))+d}};var U=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,z=n.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=n.round(e,W(e,t))).toFixed(Math.max(0,Math.min(20,W(e*(1+1e-15),t))))}}),V=T;if(c){var $=c.length;V=function(e){var t=e.lastIndexOf("."),n=t>=0?"."+e.substring(t+1):(t=e.length,""),r=[],i=0,s=c[0];while(t>0&&s>0){r.push(e.substring(t-=s,t+s));s=c[i=(i+1)%$]}return r.reverse().join(l||"")+n}}var J=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(K);n.formatPrefix=function(e,t){var r=0;if(e){e<0&&(e*=-1);t&&(e=n.round(e,W(e,t)));r=1+Math.floor(1e-12+Math.log(e)/Math.LN10);r=Math.max(-24,Math.min(24,Math.floor((r<=0?r+1:r-1)/3)*3))}return J[8+r/3]};var Q=function(){return T},G=n.map({linear:Q,poly:st,quad:function(){return nt},cubic:function(){return rt},sin:function(){return ot},exp:function(){return ut},circle:function(){return at},elastic:ft,back:lt,bounce:function(){return ct}}),Y=n.map({"in":T,out:et,"in-out":tt,"out-in":function(e){return tt(et(e))}});n.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";n=G.get(n)||Q;r=Y.get(r)||T;return Z(r(n.apply(null,Array.prototype.slice.call(arguments,1))))};n.event=null;n.transform=function(e){var t=s.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate();return new vt(n?n.matrix:bt)})(e)};vt.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var bt={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolate=function(e,t){var r=n.interpolators.length,i;while(--r>=0&&!(i=n.interpolators[r](e,t)));return i};n.interpolateNumber=function(e,t){t-=e;return function(n){return e+t*n}};n.interpolateRound=function(e,t){t-=e;return function(n){return Math.round(e+t*n)}};n.interpolateString=function(e,t){var r,i,s,o=0,u=0,a=[],f=[],l,c;wt.lastIndex=0;for(i=0;r=wt.exec(t);++i){r.index&&a.push(t.substring(o,u=r.index));f.push({i:a.length,x:r[0]});a.push(null);o=wt.lastIndex}o<t.length&&a.push(t.substring(o));for(i=0,l=f.length;(r=wt.exec(e))&&i<l;++i){c=f[i];if(c.x==r[0]){if(c.i)if(a[c.i+1]==null){a[c.i-1]+=c.x;a.splice(c.i,1);for(s=i+1;s<l;++s)f[s].i--}else{a[c.i-1]+=c.x+a[c.i+1];a.splice(c.i,2);for(s=i+1;s<l;++s)f[s].i-=2}else if(a[c.i+1]==null)a[c.i]=c.x;else{a[c.i]=c.x+a[c.i+1];a.splice(c.i+1,1);for(s=i+1;s<l;++s)f[s].i--}f.splice(i,1);l--;i--}else c.x=n.interpolateNumber(parseFloat(r[0]),parseFloat(c.x))}while(i<l){c=f.pop();if(a[c.i+1]==null)a[c.i]=c.x;else{a[c.i]=c.x+a[c.i+1];a.splice(c.i+1,1)}l--}return a.length===1?a[0]==null?f[0].x:function(){return t}:function(e){for(i=0;i<l;++i)a[(c=f[i]).i]=c.x(e);return a.join("")}};n.interpolateTransform=function(e,t){var r=[],i=[],s,o=n.transform(e),u=n.transform(t),a=o.translate,f=u.translate,l=o.rotate,c=u.rotate,h=o.skew,p=u.skew,d=o.scale,v=u.scale;if(a[0]!=f[0]||a[1]!=f[1]){r.push("translate(",null,",",null,")");i.push({i:1,x:n.interpolateNumber(a[0],f[0])},{i:3,x:n.interpolateNumber(a[1],f[1])})}else f[0]||f[1]?r.push("translate("+f+")"):r.push("");if(l!=c){l-c>180?c+=360:c-l>180&&(l+=360);i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:n.interpolateNumber(l,c)})}else c&&r.push(r.pop()+"rotate("+c+")");h!=p?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:n.interpolateNumber(h,p)}):p&&r.push(r.pop()+"skewX("+p+")");if(d[0]!=v[0]||d[1]!=v[1]){s=r.push(r.pop()+"scale(",null,",",null,")");i.push({i:s-4,x:n.interpolateNumber(d[0],v[0])},{i:s-2,x:n.interpolateNumber(d[1],v[1])})}else(v[0]!=1||v[1]!=1)&&r.push(r.pop()+"scale("+v+")");s=i.length;return function(e){var t=-1,n;while(++t<s)r[(n=i[t]).i]=n.x(e);return r.join("")}};n.interpolateRgb=function(e,t){e=n.rgb(e);t=n.rgb(t);var r=e.r,i=e.g,s=e.b,o=t.r-r,u=t.g-i,a=t.b-s;return function(e){return"#"+Lt(Math.round(r+o*e))+Lt(Math.round(i+u*e))+Lt(Math.round(s+a*e))}};n.interpolateHsl=function(e,t){e=n.hsl(e);t=n.hsl(t);var r=e.h,i=e.s,s=e.l,o=t.h-r,u=t.s-i,a=t.l-s;o>180?o-=360:o<-180&&(o+=360);return function(e){return Ft(r+o*e,i+u*e,s+a*e)+""}};n.interpolateLab=function(e,t){e=n.lab(e);t=n.lab(t);var r=e.l,i=e.a,s=e.b,o=t.l-r,u=t.a-i,a=t.b-s;return function(e){return Qt(r+o*e,i+u*e,s+a*e)+""}};n.interpolateHcl=function(e,t){e=n.hcl(e);t=n.hcl(t);var r=e.h,i=e.c,s=e.l,o=t.h-r,u=t.c-i,a=t.l-s;o>180?o-=360:o<-180&&(o+=360);return function(e){return Ut(r+o*e,i+u*e,s+a*e)+""}};n.interpolateArray=function(e,t){var r=[],i=[],s=e.length,o=t.length,u=Math.min(e.length,t.length),a;for(a=0;a<u;++a)r.push(n.interpolate(e[a],t[a]));for(;a<s;++a)i[a]=e[a];for(;a<o;++a)i[a]=t[a];return function(e){for(a=0;a<u;++a)i[a]=r[a](e);return i}};n.interpolateObject=function(e,t){var n={},r={},i;for(i in e)i in t?n[i]=Et(i)(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}};var wt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;n.interpolators=[n.interpolateObject,function(e,t){return t instanceof Array&&n.interpolateArray(e,t)},function(e,t){return(typeof e=="string"||typeof t=="string")&&n.interpolateString(e+"",t+"")},function(e,t){return(typeof t=="string"?Pt.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof Tt)&&n.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&n.interpolateNumber(e,t)}];Tt.prototype.toString=function(){return this.rgb()+""};n.rgb=function(e,t,n){return arguments.length===1?e instanceof Ct?Nt(e.r,e.g,e.b):At(""+e,Nt,Ft):Nt(~~e,~~t,~~n)};var kt=Ct.prototype=new Tt;kt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;if(!t&&!n&&!r)return Nt(i,i,i);t&&t<i&&(t=i);n&&n<i&&(n=i);r&&r<i&&(r=i);return Nt(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e)))};kt.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return Nt(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))};kt.hsl=function(){return Ot(this.r,this.g,this.b)};kt.toString=function(){return"#"+Lt(this.r)+Lt(this.g)+Lt(this.b)};var Pt=n.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory
:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});Pt.forEach(function(e,t){Pt.set(e,At(t,Nt,Ft))});n.hsl=function(e,t,n){return arguments.length===1?e instanceof Bt?Ht(e.h,e.s,e.l):At(""+e,Ot,Ht):Ht(+e,+t,+n)};var jt=Bt.prototype=new Tt;jt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);return Ht(this.h,this.s,this.l/e)};jt.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return Ht(this.h,this.s,e*this.l)};jt.rgb=function(){return Ft(this.h,this.s,this.l)};n.hcl=function(e,t,r){return arguments.length===1?e instanceof qt?It(e.h,e.c,e.l):e instanceof Wt?Gt(e.l,e.a,e.b):Gt((e=Mt((e=n.rgb(e)).r,e.g,e.b)).l,e.a,e.b):It(+e,+t,+r)};var Rt=qt.prototype=new Tt;Rt.brighter=function(e){return It(this.h,this.c,Math.min(100,this.l+Xt*(arguments.length?e:1)))};Rt.darker=function(e){return It(this.h,this.c,Math.max(0,this.l-Xt*(arguments.length?e:1)))};Rt.rgb=function(){return Ut(this.h,this.c,this.l).rgb()};n.lab=function(e,t,r){return arguments.length===1?e instanceof Wt?zt(e.l,e.a,e.b):e instanceof qt?Ut(e.l,e.c,e.h):Mt((e=n.rgb(e)).r,e.g,e.b):zt(+e,+t,+r)};var Xt=18,Vt=.95047,$t=1,Jt=1.08883,Kt=Wt.prototype=new Tt;Kt.brighter=function(e){return zt(Math.min(100,this.l+Xt*(arguments.length?e:1)),this.a,this.b)};Kt.darker=function(e){return zt(Math.max(0,this.l-Xt*(arguments.length?e:1)),this.a,this.b)};Kt.rgb=function(){return Qt(this.l,this.a,this.b)};var nn=function(e,t){return t.querySelector(e)},rn=function(e,t){return t.querySelectorAll(e)},sn=s.documentElement,on=sn.matchesSelector||sn.webkitMatchesSelector||sn.mozMatchesSelector||sn.msMatchesSelector||sn.oMatchesSelector,un=function(e,t){return on.call(e,t)};if(typeof Sizzle=="function"){nn=function(e,t){return Sizzle(e,t)[0]||null};rn=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))};un=Sizzle.matchesSelector}var an=[];n.selection=function(){return Sn};n.selection.prototype=an;an.select=function(e){var t=[],n,r,i,s;typeof e!="function"&&(e=fn(e));for(var o=-1,u=this.length;++o<u;){t.push(n=[]);n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)if(s=i[a]){n.push(r=e.call(s,s.__data__,a));r&&"__data__"in s&&(r.__data__=s.__data__)}else n.push(null)}return tn(t)};an.selectAll=function(e){var t=[],n,r;typeof e!="function"&&(e=ln(e));for(var i=-1,s=this.length;++i<s;)for(var o=this[i],u=-1,a=o.length;++u<a;)if(r=o[u]){t.push(n=m(e.call(r,r.__data__,u)));n.parentNode=r}return tn(t)};an.attr=function(e,t){if(arguments.length<2){if(typeof e=="string"){var r=this.node();e=n.ns.qualify(e);return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(t in e)this.each(cn(t,e[t]));return this}return this.each(cn(e,t))};an.classed=function(e,t){if(arguments.length<2){if(typeof e=="string"){var n=this.node(),r=(e=e.trim().split(/^|\s+/g)).length,i=-1;if(t=n.classList){while(++i<r)if(!t.contains(e[i]))return!1}else{t=n.className;t.baseVal!=null&&(t=t.baseVal);while(++i<r)if(!hn(e[i]).test(t))return!1}return!0}for(t in e)this.each(pn(t,e[t]));return this}return this.each(pn(e,t))};an.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.each(vn(n,e[n],t));return this}if(r<2)return o.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(vn(e,t,n))};an.property=function(e,t){if(arguments.length<2){if(typeof e=="string")return this.node()[e];for(t in e)this.each(mn(t,e[t]));return this}return this.each(mn(e,t))};an.text=function(e){return arguments.length?this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};an.html=function(e){return arguments.length?this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};an.append=function(e){function t(){return this.appendChild(s.createElementNS(this.namespaceURI,e))}function r(){return this.appendChild(s.createElementNS(e.space,e.local))}e=n.ns.qualify(e);return this.select(e.local?r:t)};an.insert=function(e,t){function r(){return this.insertBefore(s.createElementNS(this.namespaceURI,e),nn(t,this))}function i(){return this.insertBefore(s.createElementNS(e.space,e.local),nn(t,this))}e=n.ns.qualify(e);return this.select(e.local?i:r)};an.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})};an.data=function(e,t){function o(e,n){var r,i=e.length,s=n.length,o=Math.min(i,s),l=new Array(s),c=new Array(s),h=new Array(i),p,d;if(t){var v=new E,m=new E,g=[],y;for(r=-1;++r<i;){y=t.call(p=e[r],p.__data__,r);v.has(y)?h[r]=p:v.set(y,p);g.push(y)}for(r=-1;++r<s;){y=t.call(n,d=n[r],r);if(p=v.get(y)){l[r]=p;p.__data__=d}else m.has(y)||(c[r]=gn(d));m.set(y,d);v.remove(y)}for(r=-1;++r<i;)v.has(g[r])&&(h[r]=e[r])}else{for(r=-1;++r<o;){p=e[r];d=n[r];if(p){p.__data__=d;l[r]=p}else c[r]=gn(d)}for(;r<s;++r)c[r]=gn(n[r]);for(;r<i;++r)h[r]=e[r]}c.update=l;c.parentNode=l.parentNode=h.parentNode=e.parentNode;u.push(c);a.push(l);f.push(h)}var n=-1,r=this.length,i,s;if(!arguments.length){e=new Array(r=(i=this[0]).length);while(++n<r)if(s=i[n])e[n]=s.__data__;return e}var u=xn([]),a=tn([]),f=tn([]);if(typeof e=="function")while(++n<r)o(i=this[n],e.call(i,i.parentNode.__data__,n));else while(++n<r)o(i=this[n],e);a.enter=function(){return u};a.exit=function(){return f};return a};an.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};an.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=yn(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]);n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return tn(t)};an.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;)if(s=n[r]){i&&i!==s.nextSibling&&i.parentNode.insertBefore(s,i);i=s}return this};an.sort=function(e){e=bn.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()};an.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t=!1);for(n in e)this.each(wn(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(wn(e,t,n))};an.each=function(e){return En(this,function(t,n,r){e.call(t,t.__data__,n,r)})};an.call=function(e){var t=m(arguments);e.apply(t[0]=this,t);return this};an.empty=function(){return!this.node()};an.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var s=n[r];if(s)return s}return null};an.transition=function(){var e=Ln||++kn,t=[],n,r,i=Object.create(An);i.time=Date.now();for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;){(r=u[a])&&On(r,a,e,i);n.push(r)}}return Nn(t,e)};var Sn=tn([[s]]);Sn[0].parentNode=sn;n.select=function(e){return typeof e=="string"?Sn.select(e):tn([[e]])};n.selectAll=function(e){return typeof e=="string"?Sn.selectAll(e):tn([m(e)])};var Tn=[];n.selection.enter=xn;n.selection.enter.prototype=Tn;Tn.append=an.append;Tn.insert=an.insert;Tn.empty=an.empty;Tn.node=an.node;Tn.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update;t.push(n=[]);n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)if(o=s[f]){n.push(i[f]=r=e.call(s.parentNode,o.__data__,f));r.__data__=o.__data__}else n.push(null)}return tn(t)};var Cn=[],kn=0,Ln,An={ease:it,delay:0,duration:250};Cn.call=an.call;Cn.empty=an.empty;Cn.node=an.node;n.transition=function(e){return arguments.length?Ln?e.transition():e:Sn.transition()};n.transition.prototype=Cn;Cn.select=function(e){var t=this.id,n=[],r,i,s;typeof e!="function"&&(e=fn(e));for(var o=-1,u=this.length;++o<u;){n.push(r=[]);for(var a=this[o],f=-1,l=a.length;++f<l;)if((s=a[f])&&(i=e.call(s,s.__data__,f))){"__data__"in s&&(i.__data__=s.__data__);On(i,f,t,s.__transition__[t]);r.push(i)}else r.push(null)}return Nn(n,t)};Cn.selectAll=function(e){var t=this.id,n=[],r,i,s,o,u;typeof e!="function"&&(e=ln(e));for(var a=-1,f=this.length;++a<f;)for(var l=this[a],c=-1,h=l.length;++c<h;)if(s=l[c]){u=s.__transition__[t];i=e.call(s,s.__data__,c);n.push(r=[]);for(var p=-1,d=i.length;++p<d;){On(o=i[p],p,t,u);r.push(o)}}return Nn(n,t)};Cn.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=yn(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]);for(var r=this[s],u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return Nn(t,this.id,this.time).ease(this.ease())};Cn.attr=function(e,t){function s(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var r=Et(e),i=n.ns.qualify(e);return _n(this,"attr."+e,t,function(e){function t(){var t=this.getAttribute(i),n;return t!==e&&(n=r(t,e),function(e){this.setAttribute(i,n(e))})}function n(){var t=this.getAttributeNS(i.space,i.local),n;return t!==e&&(n=r(t,e),function(e){this.setAttributeNS(i.space,i.local,n(e))})}return e==null?i.local?o:s:(e+="",i.local?n:t)})};Cn.attrTween=function(e,t){function i(e,n){var i=t.call(this,e,n,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function s(e,n){var i=t.call(this,e,n,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}var r=n.ns.qualify(e);return this.tween("attr."+e,r.local?s:i)};Cn.style=function(e,t,n){function s(){this.style.removeProperty(e)}var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}var i=Et(e);return _n(this,"style."+e,t,function(t){function r(){var r=o.getComputedStyle(this,null).getPropertyValue(e),s;return r!==t&&(s=i(r,t),function(t){this.style.setProperty(e,s(t),n)})}return t==null?s:(t+="",r)})};Cn.styleTween=function(e,t,n){arguments.length<3&&(n="");return this.tween("style."+e,function(r,i){var s=t.call(this,r,i,o.getComputedStyle(this,null).getPropertyValue(e));return s&&function(t){this.style.setProperty(e,s(t),n)}})};Cn.text=function(e){return _n(this,"text",e,Mn)};Cn.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})};Cn.ease=function(e){var t=this.id;if(arguments.length<1)return this.node().__transition__[t].ease;typeof e!="function"&&(e=n.ease.apply(n,arguments));return En(this,function(n){n.__transition__[t].ease=e})};Cn.delay=function(e){var t=this.id;return En(this,typeof e=="function"?function(n,r,i){n.__transition__[t].delay=e.call(n,n.__data__,r,i)|0}:(e|=0,function(n){n.__transition__[t].delay=e}))};Cn.duration=function(e){var t=this.id;return En(this,typeof e=="function"?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i)|0)}:(e=Math.max(1,e|0),function(n){n.__transition__[t].duration=e}))};Cn.each=function(e,t){var n=this.id;if(arguments.length<2){var r=An,i=Ln;Ln=n;En(this,function(t,r,i){An=t.__transition__[n];e.call(t,t.__data__,r,i)});An=r;Ln=i}else En(this,function(r){r.__transition__[n].event.on(e,t)});return this};Cn.transition=function(){var e=this.id,t=++kn,n=[],r,i,s,o;for(var u=0,a=this.length;u<a;u++){n.push(r=[]);for(var i=this[u],f=0,l=i.length;f<l;f++){if(s=i[f]){o=Object.create(s.__transition__[e]);o.delay+=o.duration;On(s,f,t,o)}r.push(s)}}return Nn(n,t)};Cn.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):En(this,t==null?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})};var Dn=0,Pn={},Hn=null,Bn,jn;n.timer=function(e,t,n){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}var r=Pn[e.id];if(r&&r.callback===e){r.then=n;r.delay=t}else Pn[e.id=++Dn]=Hn={callback:e,then:n,delay:t,next:Hn};if(!Bn){jn=clearTimeout(jn);Bn=1;qn(Fn)}};n.timer.flush=function(){var e,t=Date.now(),n=Hn;while(n){e=t-n.then;n.delay||(n.flush=n.callback(e));n=n.next}In()};var qn=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(e){setTimeout(e,17)};n.mouse=function(e){return Un(e,pt())};var Rn=/WebKit/.test(o.navigator.userAgent)?-1:0;n.touches=function(e,t){arguments.length<2&&(t=pt().touches);return t?m(t).map(function(t){var n=Un(e,t);n.identifier=t.identifier;return n}):[]};n.scale={};n.scale.linear=function(){return Jn([0,1],[0,1],n.interpolate,!1)};n.scale.log=function(){return nr(n.scale.linear(),ir)};var rr=n.format(".0e");ir.pow=function(e){return Math.pow(10,e)};sr.pow=function(e){return-Math.pow(10,-e)};n.scale.pow=function(){return or(n.scale.linear(),1)};n.scale.sqrt=function(){return n.scale.pow().exponent(.5)};n.scale.ordinal=function(){return ar([],{t:"range",a:[[]]})};n.scale.category10=function(){return n.scale.ordinal().range(fr)};n.scale.category20=function(){return n.scale.ordinal().range(lr)};n.scale.category20b=function(){return n.scale.ordinal().range(cr)};n.scale.category20c=function(){return n.scale.ordinal().range(hr)};var fr=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],lr=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],cr=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],hr=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];n.scale.quantile=function(){return pr([],[])};n.scale.quantize=function(){return dr(0,1,[0,1])};n.scale.threshold=function(){return vr([.5],[0,1])};n.scale.identity=function(){return mr([0,1])};n.svg={};n.svg.arc=function(){function s(){var s=t.apply(this,arguments),o=n.apply(this,arguments),u=r.apply(this,arguments)+gr,a=i.apply(this,arguments)+gr,f=(a<u&&(f=u,u=a,a=f),a-u),l=f<e?"0":"1",c=Math.cos(u),h=Math.sin(u),p=Math.cos(a),d=Math.sin(a);return f>=yr?s?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+ -o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+s+"A"+s+","+s+" 0 1,0 0,"+ -s+"A"+s+","+s+" 0 1,0 0,"+s+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+ -o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":s?"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*p+","+o*d+"L"+s*p+","+s*d+"A"+s+","+s+" 0 "+l+",0 "+s*c+","+s*h+"Z":"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*p+","+o*d+"L0,0"+"Z"}var t=br,n=wr,r=Er,i=Sr;s.innerRadius=function(e){if(!arguments.length)return t;t=C(e);return s};s.outerRadius=function(e){if(!arguments.length)return n;n=C(e);return s};s.startAngle=function(e){if(!arguments.length)return r;r=C(e);return s};s.endAngle=function(e){if(!arguments.length)return i;i=C(e);return s};s.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,s=(r.apply(this,arguments)+i.apply(this,arguments))/2+gr;return[Math.cos(s)*e,Math.sin(s)*e]};return s};var gr=-e/2,yr=2*e-1e-6;n.svg.line=function(){return xr(T)};var Cr=n.map({linear:kr,"linear-closed":Lr,"step-before":Ar,"step-after":Or,basis:Br,"basis-open":jr,"basis-closed":Fr,bundle:Ir,cardinal:Dr,"cardinal-open":Mr,"cardinal-closed":_r,monotone:Jr});Cr.forEach(function(e,t){t.key=e;t.closed=/-closed$/.test(e)});var Rr=[0,2/3,1/3,0],Ur=[0,1/3,2/3,0],zr=[0,1/6,2/3,1/6];n.svg.line.radial=function(){var e=xr(Kr);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};Ar.reverse=Or;Or.reverse=Ar;n.svg.area=function(){return Qr(T)};n.svg.area.radial=function(){var e=Qr(Kr);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};n.svg.chord=function(){function o(e,r){var i=f(this,t,e,r),s=f(this,n,e,r);return"M"+i.p0+c(i.r,i.p1,i.a1-i.a0)+(l(i,s)?h(i.r,i.p1,i.r,i.p0):h(i.r,i.p1,s.r,s.p0)+c(s.r,s.p1,s.a1-s.a0)+h(s.r,s.p1,i.r,i.p0))+"Z"}function f(e,t,n,o){var u=t.call(e,n,o),a=r.call(e,u,o),f=i.call(e,u,o)+gr,l=s.call(e,u,o)+gr;return{r:a,a0:f,a1:l,p0:[a*Math.cos(f),a*Math.sin(f)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function l(e,t){return e.a0==t.a0&&e.a1==t.a1}function c(t,n,r){return"A"+t+","+t+" 0 "+ +(r>e)+",1 "+n}function h(e,t,n,r){return"Q 0,0 "+r}var t=a,n=u,r=Gr,i=Er,s=Sr;o.radius=function(e){if(!arguments.length)return r;r=C(e);return o};o.source=function(e){if(!arguments.length)return t;t=C(e);return o};o.target=function(e){if(!arguments.length)return n;n=C(e);return o};o.startAngle=function(e){if(!arguments.length)return i;i=C(e);return o};o.endAngle=function(e){if(!arguments.length)return s;s=C(e);return o};return o};n.svg.diagonal=function(){function r(r,i){var s=e.call(this,r,i),o=t.call(this,r,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];a=a.map(n);return"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var e=a,t=u,n=Yr;r.source=function(t){if(!arguments.length)return e;e=C(t);return r};r.target=function(e){if(!arguments.length)return t;t=C(e);return r};r.projection=function(e){if(!arguments.length)return n;n=e;return r};return r};n.svg.diagonal.radial=function(){var e=n.svg.diagonal(),t=Yr,r=e.projection;e.projection=function(e){return arguments.length?r(Zr(t=e)):t};return e};n.svg.symbol=function(){function n(n,r){return(ri.get(e.call(this,n,r))||ni)(t.call(this,n,r))}var e=ti,t=ei;n.type=function(t){if(!arguments.length)return e;e=C(t);return n};n.size=function(e){if(!arguments.length)return t;t=C(e);return n};return n};var ri=n.map({circle:ni,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*si)),n=t*si;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ii),n=t*ii/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ii),n=t*ii/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});n.svg.symbolTypes=ri.keys();var ii=Math.sqrt(3),si=Math.tan(30*r);n.svg.axis=function(){function c(c){c.each(function(){var c=n.select(this),h=a==null?e.ticks?e.ticks.apply(e,u):e.domain():a,p=f==null?e.tickFormat?e.tickFormat.apply(e,u):String:f,d=li(e,h,l),v=c.selectAll(".tick.minor").data(d,String),m=v.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),g=n.transition(v.exit()).style("opacity",1e-6).remove(),y=n.transition(v).style("opacity",1),b=c.selectAll(".tick.major").data(h,String),w=b.enter().insert("g","path").attr("class","tick major").style("opacity",1e-6),E=n.transition(b.exit()).style("opacity",1e-6).remove(),S=n.transition(b).style("opacity",1),x,T=Xn(e),N=c.selectAll(".domain").data([0]),C=(N.enter().append("path").attr("class","domain"),n.transition(N)),k=e.copy(),L=this.__chart__||k;this.__chart__=k;w.append("line");w.append("text");var A=w.select("line"),O=S.select("line"),M=b.select("text").text(p),_=w.select("text"),D=S.select("text");switch(t){case"bottom":x=ai;m.attr("y2",i);y.attr("x2",0).attr("y2",i);A.attr("y2",r);_.attr("y",Math.max(r,0)+o);O.attr("x2",0).attr("y2",r);D.attr("x",0).attr("y",Math.max(r,0)+o);M.attr("dy",".71em").style("text-anchor","middle");C.attr("d","M"+T[0]+","+s+"V0H"+T[1]+"V"+s);break;case"top":x=ai;m.attr("y2",-i);y.attr("x2",0).attr("y2",-i);A.attr("y2",-r);_.attr("y",-(Math.max(r,0)+o));O.attr("x2",0).attr("y2",-r);D.attr("x",0).attr("y",-(Math.max(r,0)+o));M.attr("dy","0em").style("text-anchor","middle");C.attr("d","M"+T[0]+","+ -s+"V0H"+T[1]+"V"+ -s);break;case"left":x=fi;m.attr("x2",-i);y.attr("x2",-i).attr("y2",0);A.attr("x2",-r);_.attr("x",-(Math.max(r,0)+o));O.attr("x2",-r).attr("y2",0);D.attr("x",-(Math.max(r,0)+o)).attr("y",0);M.attr("dy",".32em").style("text-anchor","end");C.attr("d","M"+ -s+","+T[0]+"H0V"+T[1]+"H"+ -s);break;case"right":x=fi;m.attr("x2",i);y.attr("x2",i).attr("y2",0);A.attr("x2",r);_.attr("x",Math.max(r,0)+o);O.attr("x2",r).attr("y2",0);D.attr("x",Math.max(r,0)+o).attr("y",0);M.attr("dy",".32em").style("text-anchor","start");C.attr("d","M"+s+","+T[0]+"H0V"+T[1]+"H"+s)}if(e.ticks){w.call(x,L);S.call(x,k);E.call(x,k);m.call(x,L);y.call(x,k);g.call(x,k)}else{var P=k.rangeBand()/2,H=function(e){return k(e)+P};w.call(x,H);S.call(x,H)}})}var e=n.scale.linear(),t=oi,r=6,i=6,s=6,o=3,u=[10],a=null,f,l=0;c.scale=function(t){if(!arguments.length)return e;e=t;return c};c.orient=function(e){if(!arguments.length)return t;t=e in ui?e+"":oi;return c};c.ticks=function(){if(!arguments.length)return u;u=arguments;return c};c.tickValues=function(e){if(!arguments.length)return a;a=e;return c};c.tickFormat=function(e){if(!arguments.length)return f;f=e;return c};c.tickSize=function(e,t){if(!arguments.length)return r;var n=arguments.length-1;r=+e;i=n>1?+t:r;s=n>0?+arguments[n]:r;return c};c.tickPadding=function(e){if(!arguments.length)return o;o=+e;return c};c.tickSubdivide=function(e){if(!arguments.length)return l;l=+e;return c};return c};var oi="bottom",ui={top:1,right:1,bottom:1,left:1};n.svg.brush=function(){function a(e){e.each(function(){var e=n.select(this),s=e.selectAll(".background").data([0]),o=e.selectAll(".extent").data([0]),u=e.selectAll(".resize").data(i,String),p;e.style("pointer-events","all").on("mousedown.brush",h).on("touchstart.brush",h);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");o.enter().append("rect").attr("class","extent").style("cursor","move");u.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return ci[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");u.style("display",a.empty()?"none":null);u.exit().remove();if(t){p=Xn(t);s.attr("x",p[0]).attr("width",p[1]-p[0]);l(e)}if(r){p=Xn(r);s.attr("y",p[0]).attr("height",p[1]-p[0]);c(e)}f(e)})}function f(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+s[+/e$/.test(e)][0]+","+s[+/^s/.test(e)][1]+")"})}function l(e){e.select(".extent").attr("x",s[0][0]);e.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1][0]-s[0][0])}function c(e){e.select(".extent").attr("y",s[0][1]);e.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1][1]-s[0][1])}function h(){function N(){var e=n.event.changedTouches;return e?n.touches(i,e)[0]:n.mouse(i)}function C(){if(n.event.keyCode==32){if(!y){b=null;w[0]-=s[1][0];w[1]-=s[1][1];y=2}ht()}}function k(){if(n.event.keyCode==32&&y==2){w[0]+=s[1][0];w[1]+=s[1][1];y=0;ht()}}function L(){var e=N(),i=!1;if(E){e[0]+=E[0];e[1]+=E[1]}if(!y)if(n.event.altKey){b||(b=[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]);w[0]=s[+(e[0]<b[0])][0];w[1]=s[+(e[1]<b[1])][1]}else b=null;if(m&&A(e,t,0)){l(d);i=!0}if(g&&A(e,r,1)){c(d);i=!0}if(i){f(d);p({type:"brush",mode:y?"move":"resize"})}}function A(e,t,n){var r=Xn(t),i=r[0],o=r[1],a=w[n],f=s[1][n]-s[0][n],l,c;if(y){i-=a;o-=f+a}l=Math.max(i,Math.min(o,e[n]));if(y)c=(l+=a)+f;else{b&&(a=Math.max(i,Math.min(o,2*b[n]-l)));if(a<l){c=l;l=a}else c=a}if(s[0][n]!==l||s[1][n]!==c){u=null;s[0][n]=l;s[1][n]=c;return!0}}function O(){L();d.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);n.select("body").style("cursor",null);S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);p({type:"brushend"});ht()}var i=this,h=n.select(n.event.target),p=e.of(i,arguments),d=n.select(i),v=h.datum(),m=!/^(n|s)$/.test(v)&&t,g=!/^(e|w)$/.test(v)&&r,y=h.classed("extent"),b,w=N(),E,S=n.select(o).on("mousemove.brush",L).on("mouseup.brush",O).on("touchmove.brush",L).on("touchend.brush",O).on("keydown.brush",C).on("keyup.brush",k);if(y){w[0]=s[0][0]-w[0];w[1]=s[0][1]-w[1]}else if(v){var x=+/w$/.test(v),T=+/^n/.test(v);E=[s[1-x][0]-w[0],s[1-T][1]-w[1]];w[0]=s[x][0];w[1]=s[T][1]}else n.event.altKey&&(b=w.slice());d.style("pointer-events","none").selectAll(".resize").style("display",null);n.select("body").style("cursor",h.style("cursor"));p({type:"brushstart"});L();ht()}var e=dt(a,"brushstart","brush","brushend"),t=null,r=null,i=hi[0],s=[[0,0],[0,0]],u;a.x=function(e){if(!arguments.length)return t;t=e;i=hi[!t<<1|!r];return a};a.y=function(e){if(!arguments.length)return r;r=e;i=hi[!t<<1|!r];return a};a.extent=function(e){var n,i,o,f,l;if(!arguments.length){e=u||s;if(t){n=e[0][0],i=e[1][0];if(!u){n=s[0][0],i=s[1][0];t.invert&&(n=t.invert(n),i=t.invert(i));i<n&&(l=n,n=i,i=l)}}if(r){o=e[0][1],f=e[1][1];if(!u){o=s[0][1],f=s[1][1];r.invert&&(o=r.invert(o),f=r.invert(f));f<o&&(l=o,o=f,f=l)}}return t&&r?[[n,o],[i,f]]:t?[n,i]:r&&[o,f]}u=[[0,0],[0,0]];if(t){n=e[0],i=e[1];r&&(n=n[0],i=i[0]);u[0][0]=n,u[1][0]=i;t.invert&&(n=t(n),i=t(i));i<n&&(l=n,n=i,i=l);s[0][0]=n|0,s[1][0]=i|0}if(r){o=e[0],f=e[1];t&&(o=o[1],f=f[1]);u[0][1]=o,u[1][1]=f;r.invert&&(o=r(o),f=r(f));f<o&&(l=o,o=f,f=l);s[0][1]=o|0,s[1][1]=f|0}return a};a.clear=function(){u=null;s[0][0]=s[0][1]=s[1][0]=s[1][1]=0;return a};a.empty=function(){return t&&s[0][0]===s[1][0]||r&&s[0][1]===s[1][1]};return n.rebind(a,e,"on")};var ci={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},hi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];n.behavior={};n.behavior.drag=function(){function r(){this.on("mousedown.drag",i).on("touchstart.drag",i)}function i(){function h(){var e=r.parentNode;return u!=null?n.touches(e).filter(function(e){return e.identifier===u})[0]:n.mouse(e)}function p(){if(!r.parentNode)return d();var e=h(),t=e[0]-f[0],n=e[1]-f[1];l|=t|n;f=e;ht();i({type:"drag",x:e[0]+a[0],y:e[1]+a[1],dx:t,dy:n})}function d(){i({type:"dragend"});if(l){ht();n.event.target===s&&c.on("click.drag",v,!0)}c.on(u!=null?"touchmove.drag-"+u:"mousemove.drag",null).on(u!=null?"touchend.drag-"+u:"mouseup.drag",null)}function v(){ht();c.on("click.drag",null)}var r=this,i=e.of(r,arguments),s=n.event.target,u=n.event.touches?n.event.changedTouches[0].identifier:null,a,f=h(),l=0,c=n.select(o).on(u!=null?"touchmove.drag-"+u:"mousemove.drag",p).on(u!=null?"touchend.drag-"+u:"mouseup.drag",d,!0);if(t){a=t.apply(r,arguments);a=[a.x-f[0],a.y-f[1]]}else a=[0,0];u==null&&ht();i({type:"dragstart"})}var e=dt(r,"drag","dragstart","dragend"),t=null;r.origin=function(e){if(!arguments.length)return t;t=e;return r};return n.rebind(r,e,"on")};n.behavior.zoom=function(){function p(){this.on("mousedown.zoom",w).on("mousemove.zoom",S).on(vi+".zoom",E).on("dblclick.zoom",x).on("touchstart.zoom",T).on("touchmove.zoom",N).on("touchend.zoom",T)}function d(t){return[(t[0]-e[0])/r,(t[1]-e[1])/r]}function v(t){return[t[0]*r+e[0],t[1]*r+e[1]]}function m(e){r=Math.max(s[0],Math.min(s[1],e))}function g(t,n){n=v(n);e[0]+=t[0]-n[0];e[1]+=t[1]-n[1]}function y(){f&&f.domain(a.range().map(function(t){return(t-e[0])/r}).map(a.invert));c&&c.domain(l.range().map(function(t){return(t-e[1])/r}).map(l.invert))}function b(t){y();n.event.preventDefault();t({type:"zoom",scale:r,translate:e})}function w(){function f(){i=1;g(n.mouse(e),a);b(t)}function l(){i&&ht();s.on("mousemove.zoom",null).on("mouseup.zoom",null);i&&n.event.target===r&&s.on("click.zoom",c,!0)}function c(){ht();s.on("click.zoom",null)}var e=this,t=u.of(e,arguments),r=n.event.target,i=0,s=n.select(o).on("mousemove.zoom",f).on("mouseup.zoom",l),a=d(n.mouse(e));o.focus();ht()}function E(){t||(t=d(n.mouse(this)));m(Math.pow(2,di()*.002)*r);g(n.mouse(this),t);b(u.of(this,arguments))}function S(){t=null}function x(){var e=n.mouse(this),t=d(e),i=Math.log(r)/Math.LN2;m(Math.pow(2,n.event.shiftKey?Math.ceil(i)-1:Math.floor(i)+1));g(e,t);b(u.of(this,arguments))}function T(){var e=n.touches(this),s=Date.now();i=r;t={};e.forEach(function(e){t[e.identifier]=d(e)});ht();if(e.length===1){if(s-h<500){var o=e[0],a=d(e[0]);m(r*2);g(o,a);b(u.of(this,arguments))}h=s}}function N(){var e=n.touches(this),r=e[0],s=t[r.identifier];if(o=e[1]){var o,a=t[o.identifier];r=[(r[0]+o[0])/2,(r[1]+o[1])/2];s=[(s[0]+a[0])/2,(s[1]+a[1])/2];m(n.event.scale*i)}g(r,s);h=null;b(u.of(this,arguments))}var e=[0,0],t,r=1,i,s=pi,u=dt(p,"zoom"),a,f,l,c,h;p.translate=function(t){if(!arguments.length)return e;e=t.map(Number);y();return p};p.scale=function(e){if(!arguments.length)return r;r=+e;y();return p};p.scaleExtent=function(e){if(!arguments.length)return s;s=e==null?pi:e.map(Number);return p};p.x=function(t){if(!arguments.length)return f;f=t;a=t.copy();e=[0,0];r=1;return p};p.y=function(t){if(!arguments.length)return c;c=t;l=t.copy();e=[0,0];r=1;return p};return n.rebind(p,u,"on")};var pi=[0,Infinity],di,vi="onwheel"in document?(di=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in document?(di=function(){return n.event.wheelDelta},"mousewheel"):(di=function(){return-n.event.detail},"MozMousePixelScroll");n.layout={};n.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(mi(e[n]));return t}};n.layout.chord=function(){function c(){var t={},c=[],p=n.range(o),d=[],v,m,g,y,b;r=[];i=[];v=0,y=-1;while(++y<o){m=0,b=-1;while(++b<o)m+=s[y][b];c.push(m);d.push(n.range(o));v+=m}a&&p.sort(function(e,t){return a(c[e],c[t])});f&&d.forEach(function(e,t){e.sort(function(e,n){return f(s[t][e],s[t][n])})});v=(2*e-u*o)/v;m=0,y=-1;while(++y<o){g=m,b=-1;while(++b<o){var w=p[y],E=d[w][b],S=s[w][E],x=m,T=m+=S*v;t[w+"-"+E]={index:w,subindex:E,startAngle:x,endAngle:T,value:S}}i[w]={index:w,startAngle:g,endAngle:m,value:(m-g)/v};m+=u}y=-1;while(++y<o){b=y-1;while(++b<o){var N=t[y+"-"+b],C=t[b+"-"+y];(N.value||C.value)&&r.push(N.value<C.value?{source:C,target:N}:{source:N,target:C})}}l&&h()}function h(){r.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var t={},r,i,s,o,u=0,a,f,l;t.matrix=function(e){if(!arguments.length)return s;o=(s=e)&&s.length;r=i=null;return t};t.padding=function(e){if(!arguments.length)return u;u=e;r=i=null;return t};t.sortGroups=function(e){if(!arguments.length)return a;a=e;r=i=null;return t};t.sortSubgroups=function(e){if(!arguments.length)return f;f=e;r=null;return t};t.sortChords=function(e){if(!arguments.length)return l;l=e;r&&h();return t};t.chords=function(){r||c();return r};t.groups=function(){i||c();return i};return t};n.layout.force=function(){function g(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=1/Math.sqrt(s*s+o*o);if((i-n)*u<c){var a=t.charge*u*u;e.px-=s*a;e.py-=o*a;return!0}if(t.point&&isFinite(u)){var a=t.pointCharge*u*u;e.px-=s*a;e.py-=o*a}}return!t.charge}}function y(t){t.px=n.event.x,t.py=n.event.y;e.resume()}var e={},t=n.dispatch("start","tick","end"),r=[1,1],i,s,o=.9,u=Ti,a=Ni,f=-30,l=.1,c=.8,h=[],p=[],d,v,m;e.tick=function(){if((s*=.99)<.005){t.end({type:"end",alpha:s=0});return!0}var e=h.length
,i=p.length,u,a,c,y,b,w,E,S,x;for(a=0;a<i;++a){c=p[a];y=c.source;b=c.target;S=b.x-y.x;x=b.y-y.y;if(w=S*S+x*x){w=s*v[a]*((w=Math.sqrt(w))-d[a])/w;S*=w;x*=w;b.x-=S*(E=y.weight/(b.weight+y.weight));b.y-=x*E;y.x+=S*(E=1-E);y.y+=x*E}}if(E=s*l){S=r[0]/2;x=r[1]/2;a=-1;if(E)while(++a<e){c=h[a];c.x+=(S-c.x)*E;c.y+=(x-c.y)*E}}if(f){xi(u=n.geom.quadtree(h),s,m);a=-1;while(++a<e)(c=h[a]).fixed||u.visit(g(c))}a=-1;while(++a<e){c=h[a];if(c.fixed){c.x=c.px;c.y=c.py}else{c.x-=(c.px-(c.px=c.x))*o;c.y-=(c.py-(c.py=c.y))*o}}t.tick({type:"tick",alpha:s})};e.nodes=function(t){if(!arguments.length)return h;h=t;return e};e.links=function(t){if(!arguments.length)return p;p=t;return e};e.size=function(t){if(!arguments.length)return r;r=t;return e};e.linkDistance=function(t){if(!arguments.length)return u;u=typeof t=="function"?t:+t;return e};e.distance=e.linkDistance;e.linkStrength=function(t){if(!arguments.length)return a;a=typeof t=="function"?t:+t;return e};e.friction=function(t){if(!arguments.length)return o;o=+t;return e};e.charge=function(t){if(!arguments.length)return f;f=typeof t=="function"?t:+t;return e};e.gravity=function(t){if(!arguments.length)return l;l=+t;return e};e.theta=function(t){if(!arguments.length)return c;c=+t;return e};e.alpha=function(r){if(!arguments.length)return s;r=+r;if(s)r>0?s=r:s=0;else if(r>0){t.start({type:"start",alpha:s=r});n.timer(e.tick)}return e};e.start=function(){function y(e,n){var r=b(t),i=-1,s=r.length,o;while(++i<s)if(!isNaN(o=r[i][e]))return o;return Math.random()*n}function b(){if(!c){c=[];for(n=0;n<i;++n)c[n]=[];for(n=0;n<s;++n){var e=p[n];c[e.source.index].push(e.target);c[e.target.index].push(e.source)}}return c[t]}var t,n,i=h.length,s=p.length,o=r[0],l=r[1],c,g;for(t=0;t<i;++t){(g=h[t]).index=t;g.weight=0}for(t=0;t<s;++t){g=p[t];typeof g.source=="number"&&(g.source=h[g.source]);typeof g.target=="number"&&(g.target=h[g.target]);++g.source.weight;++g.target.weight}for(t=0;t<i;++t){g=h[t];isNaN(g.x)&&(g.x=y("x",o));isNaN(g.y)&&(g.y=y("y",l));isNaN(g.px)&&(g.px=g.x);isNaN(g.py)&&(g.py=g.y)}d=[];if(typeof u=="function")for(t=0;t<s;++t)d[t]=+u.call(this,p[t],t);else for(t=0;t<s;++t)d[t]=u;v=[];if(typeof a=="function")for(t=0;t<s;++t)v[t]=+a.call(this,p[t],t);else for(t=0;t<s;++t)v[t]=a;m=[];if(typeof f=="function")for(t=0;t<i;++t)m[t]=+f.call(this,h[t],t);else for(t=0;t<i;++t)m[t]=f;return e.resume()};e.resume=function(){return e.alpha(.1)};e.stop=function(){return e.alpha(0)};e.drag=function(){i||(i=n.behavior.drag().origin(T).on("dragstart.force",bi).on("drag.force",y).on("dragend.force",wi));if(!arguments.length)return i;this.on("mouseover.force",Ei).on("mouseout.force",Si).call(i)};return n.rebind(e,t,"on")};var Ti=20,Ni=1;n.layout.partition=function(){function r(e,t,n,i){var s=e.children;e.x=t;e.y=e.depth*i;e.dx=n;e.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;n=e.value?n/e.value:0;while(++o<u){r(a=s[o],t,f=a.value*n,i);t+=f}}}function i(e){var t=e.children,n=0;if(t&&(s=t.length)){var r=-1,s;while(++r<s)n=Math.max(n,i(t[r]))}return 1+n}function s(n,s){var o=e.call(this,n,s);r(o[0],0,t[0],t[1]/i(o[0]));return o}var e=n.layout.hierarchy(),t=[1,1];s.size=function(e){if(!arguments.length)return t;t=e;return s};return qi(s,e)};n.layout.pie=function(){function o(e){var u=e.map(function(e,n){return+t.call(o,e,n)}),a=+(typeof i=="function"?i.apply(this,arguments):i),f=((typeof s=="function"?s.apply(this,arguments):s)-i)/n.sum(u),l=n.range(e.length);r!=null&&l.sort(r===Ci?function(e,t){return u[t]-u[e]}:function(t,n){return r(e[t],e[n])});var c=[];l.forEach(function(t){var n;c[t]={data:e[t],value:n=u[t],startAngle:a,endAngle:a+=n*f}});return c}var t=Number,r=Ci,i=0,s=2*e;o.value=function(e){if(!arguments.length)return t;t=e;return o};o.sort=function(e){if(!arguments.length)return r;r=e;return o};o.startAngle=function(e){if(!arguments.length)return i;i=e;return o};o.endAngle=function(e){if(!arguments.length)return s;s=e;return o};return o};var Ci={};n.layout.stack=function(){function u(a,f){var l=a.map(function(t,n){return e.call(u,t,n)}),c=l.map(function(e){return e.map(function(e,t){return[s.call(u,e,t),o.call(u,e,t)]})}),h=t.call(u,c,f);l=n.permute(l,h);c=n.permute(c,h);var p=r.call(u,c,f),d=l.length,v=l[0].length,m,g,y;for(g=0;g<v;++g){i.call(u,l[0][g],y=p[g],c[0][g][1]);for(m=1;m<d;++m)i.call(u,l[m][g],y+=c[m-1][g][1],c[m][g][1])}return a}var e=T,t=_i,r=Di,i=Ai,s=ki,o=Li;u.values=function(t){if(!arguments.length)return e;e=t;return u};u.order=function(e){if(!arguments.length)return t;t=typeof e=="function"?e:Oi.get(e)||_i;return u};u.offset=function(e){if(!arguments.length)return r;r=typeof e=="function"?e:Mi.get(e)||Di;return u};u.x=function(e){if(!arguments.length)return s;s=e;return u};u.y=function(e){if(!arguments.length)return o;o=e;return u};u.out=function(e){if(!arguments.length)return i;i=e;return u};return u};var Oi=n.map({"inside-out":function(e){var t=e.length,r,i,s=e.map(Pi),o=e.map(Hi),u=n.range(t).sort(function(e,t){return s[e]-s[t]}),a=0,f=0,l=[],c=[];for(r=0;r<t;++r){i=u[r];if(a<f){a+=o[i];l.push(i)}else{f+=o[i];c.push(i)}}return c.reverse().concat(l)},reverse:function(e){return n.range(e.length).reverse()},"default":_i}),Mi=n.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];u>i&&(i=u);r.push(u)}for(o=0;o<n;++o)a[o]=(i-r[o])/2;return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i,s,o,u,a,f,l,c,h,p=[];p[0]=c=h=0;for(s=1;s<r;++s){for(i=0,u=0;i<t;++i)u+=e[i][s][1];for(i=0,a=0,l=n[s][0]-n[s-1][0];i<t;++i){for(o=0,f=(e[i][s][1]-e[i][s-1][1])/(2*l);o<i;++o)f+=(e[o][s][1]-e[o][s-1][1])/l;a+=f*e[i][s][1]}p[s]=c-=u?a/u*l:0;c<h&&(h=c)}for(s=0;s<r;++s)p[s]-=h;return p},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:Di});n.layout.histogram=function(){function s(s,o){var u=[],a=s.map(t,this),f=r.call(this,a,o),l=i.call(this,f,a,o),c,o=-1,h=a.length,p=l.length-1,d=e?1:1/h,v;while(++o<p){c=u[o]=[];c.dx=l[o+1]-(c.x=l[o]);c.y=0}if(p>0){o=-1;while(++o<h){v=a[o];if(v>=f[0]&&v<=f[1]){c=u[n.bisect(l,v,1,p)-1];c.y+=d;c.push(s[o])}}}return u}var e=!0,t=Number,r=Ii,i=ji;s.value=function(e){if(!arguments.length)return t;t=e;return s};s.range=function(e){if(!arguments.length)return r;r=C(e);return s};s.bins=function(e){if(!arguments.length)return i;i=typeof e=="number"?function(t){return Fi(t,e)}:C(e);return s};s.frequency=function(t){if(!arguments.length)return e;e=!!t;return s};return s};n.layout.hierarchy=function(){function r(i,o,u){var a=t.call(s,i,o);i.depth=o;u.push(i);if(a&&(l=a.length)){var f=-1,l,c=i.children=[],h=0,p=o+1,d;while(++f<l){d=r(a[f],p,u);d.parent=i;c.push(d);h+=d.value}e&&c.sort(e);n&&(i.value=h)}else n&&(i.value=+n.call(s,i,o)||0);return i}function i(e,t){var r=e.children,o=0;if(r&&(a=r.length)){var u=-1,a,f=t+1;while(++u<a)o+=i(r[u],f)}else n&&(o=+n.call(s,e,t)||0);n&&(e.value=o);return o}function s(e){var t=[];r(e,0,t);return t}var e=zi,t=Ri,n=Ui;s.sort=function(t){if(!arguments.length)return e;e=t;return s};s.children=function(e){if(!arguments.length)return t;t=e;return s};s.value=function(e){if(!arguments.length)return n;n=e;return s};s.revalue=function(e){i(e,0);return e};return s};n.layout.pack=function(){function i(n,i){var s=e.call(this,n,i),o=s[0];o.x=0;o.y=0;cs(o,function(e){e.r=Math.sqrt(e.value)});cs(o,Ki);var u=r[0],a=r[1],f=Math.max(2*o.r/u,2*o.r/a);if(t>0){var l=t*f/2;cs(o,function(e){e.r+=l});cs(o,Ki);cs(o,function(e){e.r-=l});f=Math.max(2*o.r/u,2*o.r/a)}Yi(o,u/2,a/2,1/f);return s}var e=n.layout.hierarchy().sort(Xi),t=0,r=[1,1];i.size=function(e){if(!arguments.length)return r;r=e;return i};i.padding=function(e){if(!arguments.length)return t;t=+e;return i};return qi(i,e)};n.layout.cluster=function(){function i(n,i){var s=e.call(this,n,i),o=s[0],u,a=0;cs(o,function(e){var n=e.children;if(n&&n.length){e.x=ts(n);e.y=es(n)}else{e.x=u?a+=t(e,u):0;e.y=0;u=e}});var f=ns(o),l=rs(o),c=f.x-t(f,l)/2,h=l.x+t(l,f)/2;cs(o,function(e){e.x=(e.x-c)/(h-c)*r[0];e.y=(1-(o.y?e.y/o.y:1))*r[1]});return s}var e=n.layout.hierarchy().sort(null).value(null),t=is,r=[1,1];i.separation=function(e){if(!arguments.length)return t;t=e;return i};i.size=function(e){if(!arguments.length)return r;r=e;return i};return qi(i,e)};n.layout.tree=function(){function i(n,i){function u(e,n){var r=e.children,i=e._tree;if(r&&(s=r.length)){var s,o=r[0],a,l=o,c,h=-1;while(++h<s){c=r[h];u(c,a);l=f(c,a,l);a=c}hs(e);var p=.5*(o._tree.prelim+c._tree.prelim);if(n){i.prelim=n._tree.prelim+t(e,n);i.mod=i.prelim-p}else i.prelim=p}else n&&(i.prelim=n._tree.prelim+t(e,n))}function a(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var r=-1,i;t+=e._tree.mod;while(++r<i)a(n[r],t)}}function f(e,n,r){if(n){var i=e,s=e,o=n,u=e.parent.children[0],a=i._tree.mod,f=s._tree.mod,l=o._tree.mod,c=u._tree.mod,h;while(o=os(o),i=ss(i),o&&i){u=ss(u);s=os(s);s._tree.ancestor=e;h=o._tree.prelim+l-i._tree.prelim-a+t(o,i);if(h>0){ps(ds(o,e,r),e,h);a+=h;f+=h}l+=o._tree.mod;a+=i._tree.mod;c+=u._tree.mod;f+=s._tree.mod}if(o&&!os(s)){s._tree.thread=o;s._tree.mod+=l-f}if(i&&!ss(u)){u._tree.thread=i;u._tree.mod+=a-c;r=e}}return r}var s=e.call(this,n,i),o=s[0];cs(o,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}});u(o);a(o,-o._tree.prelim);var l=us(o,fs),c=us(o,as),h=us(o,ls),p=l.x-t(l,c)/2,d=c.x+t(c,l)/2,v=h.depth||1;cs(o,function(e){e.x=(e.x-p)/(d-p)*r[0];e.y=e.depth/v*r[1];delete e._tree});return s}var e=n.layout.hierarchy().sort(null).value(null),t=is,r=[1,1];i.separation=function(e){if(!arguments.length)return t;t=e;return i};i.size=function(e){if(!arguments.length)return r;r=e;return i};return qi(i,e)};n.layout.treemap=function(){function l(e,t){var n=-1,r=e.length,i,s;while(++n<r){s=(i=e[n]).value*(t<0?0:t);i.area=isNaN(s)||s<=0?0:s}}function c(e){var t=e.children;if(t&&t.length){var n=s(e),r=[],i=t.slice(),o,u=Infinity,f,h=a==="slice"?n.dx:a==="dice"?n.dy:a==="slice-dice"?e.depth&1?n.dy:n.dx:Math.min(n.dx,n.dy),v;l(i,n.dx*n.dy/e.value);r.area=0;while((v=i.length)>0){r.push(o=i[v-1]);r.area+=o.area;if(a!=="squarify"||(f=p(r,h))<=u){i.pop();u=f}else{r.area-=r.pop().area;d(r,h,n,!1);h=Math.min(n.dx,n.dy);r.length=r.area=0;u=Infinity}}if(r.length){d(r,h,n,!0);r.length=r.area=0}t.forEach(c)}}function h(e){var t=e.children;if(t&&t.length){var n=s(e),r=t.slice(),i,o=[];l(r,n.dx*n.dy/e.value);o.area=0;while(i=r.pop()){o.push(i);o.area+=i.area;if(i.z!=null){d(o,i.z?n.dx:n.dy,n,!r.length);o.length=o.area=0}}t.forEach(h)}}function p(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,u=e.length;while(++o<u){if(!(r=e[o].area))continue;r<s&&(s=r);r>i&&(i=r)}n*=n;t*=t;return n?Math.max(t*i*f/n,n/(t*s*f)):Infinity}function d(e,n,r,i){var s=-1,o=e.length,u=r.x,a=r.y,f=n?t(e.area/n):0,l;if(n==r.dx){if(i||f>r.dy)f=r.dy;while(++s<o){l=e[s];l.x=u;l.y=a;l.dy=f;u+=l.dx=Math.min(r.x+r.dx-u,f?t(l.area/f):0)}l.z=!0;l.dx+=r.x+r.dx-u;r.y+=f;r.dy-=f}else{if(i||f>r.dx)f=r.dx;while(++s<o){l=e[s];l.x=u;l.y=a;l.dx=f;a+=l.dy=Math.min(r.y+r.dy-a,f?t(l.area/f):0)}l.z=!1;l.dy+=r.y+r.dy-a;r.x+=f;r.dx-=f}}function v(t){var n=u||e(t),i=n[0];i.x=0;i.y=0;i.dx=r[0];i.dy=r[1];u&&e.revalue(i);l([i],i.dx*i.dy/i.value);(u?h:c)(i);o&&(u=n);return n}var e=n.layout.hierarchy(),t=Math.round,r=[1,1],i=null,s=vs,o=!1,u,a="squarify",f=.5*(1+Math.sqrt(5));v.size=function(e){if(!arguments.length)return r;r=e;return v};v.padding=function(e){function t(t){var n=e.call(v,t,t.depth);return n==null?vs(t):ms(t,typeof n=="number"?[n,n,n,n]:n)}function n(t){return ms(t,e)}if(!arguments.length)return i;var r;s=(i=e)==null?vs:(r=typeof e)==="function"?t:r==="number"?(e=[e,e,e,e],n):n;return v};v.round=function(e){if(!arguments.length)return t!=Number;t=e?Math.round:Number;return v};v.sticky=function(e){if(!arguments.length)return o;o=e;u=null;return v};v.ratio=function(e){if(!arguments.length)return f;f=e;return v};v.mode=function(e){if(!arguments.length)return a;a=e+"";return v};return qi(v,e)};n.csv=gs(",","text/csv");n.tsv=gs("	","text/tab-separated-values");n.geo={};n.geo.stream=function(e,t){bs.hasOwnProperty(e.type)?bs[e.type](e,t):ys(e,t)};var bs={Feature:function(e,t){ys(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,i=n.length;while(++r<i)ys(n[r].geometry,t)}},ws={Sphere:function(e,t){t.sphere()},Point:function(e,t){var n=e.coordinates;t.point(n[0],n[1])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,i=n.length,s;while(++r<i)s=n[r],t.point(s[0],s[1])},LineString:function(e,t){Es(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Es(n[r],t,0)},Polygon:function(e,t){Ss(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Ss(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,i=n.length;while(++r<i)ys(n[r],t)}};n.geo.albersUsa=function(){function s(e){return o(e)(e)}function o(n){var s=n[0],o=n[1];return o>50?t:s<-140?r:o<21?i:e}var e=n.geo.albers(),t=n.geo.albers().rotate([160,0]).center([0,60]).parallels([55,65]),r=n.geo.albers().rotate([160,0]).center([0,20]).parallels([8,18]),i=n.geo.albers().rotate([60,0]).center([0,10]).parallels([8,18]);s.scale=function(n){if(!arguments.length)return e.scale();e.scale(n);t.scale(n*.6);r.scale(n);i.scale(n*1.5);return s.translate(e.translate())};s.translate=function(n){if(!arguments.length)return e.translate();var o=e.scale(),u=n[0],a=n[1];e.translate(n);t.translate([u-.4*o,a+.17*o]);r.translate([u-.19*o,a+.2*o]);i.translate([u+.58*o,a+.43*o]);return s};return s.scale(e.scale())};(n.geo.albers=function(){var e=29.5*r,t=45.5*r,n=Ho(_s),s=n(e,t);s.parallels=function(s){return arguments.length?n(e=s[0]*r,t=s[1]*r):[e*i,t*i]};return s.rotate([98,0]).center([0,38]).scale(1e3)}).raw=_s;var Ds=Uo(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(n.geo.azimuthalEqualArea=function(){return Po(Ds)}).raw=Ds;var Ps=Uo(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},T);(n.geo.azimuthalEquidistant=function(){return Po(Ps)}).raw=Ps;n.geo.bounds=Hs(T);n.geo.centroid=function(e){Bs=js=Fs=Is=qs=0;n.geo.stream(e,Rs);var r;if(js&&Math.abs(r=Math.sqrt(Fs*Fs+Is*Is+qs*qs))>t)return[Math.atan2(Is,Fs)*i,Math.asin(Math.max(-1,Math.min(1,qs/r)))*i]};var Bs,js,Fs,Is,qs,Rs={sphere:function(){if(Bs<2){Bs=2;js=Fs=Is=qs=0}},point:Us,lineStart:Ws,lineEnd:Xs,polygonStart:function(){if(Bs<2){Bs=2;js=Fs=Is=qs=0}Rs.lineStart=zs},polygonEnd:function(){Rs.lineStart=Ws}};n.geo.circle=function(){function o(){var t=typeof e=="function"?e.apply(this,arguments):e,n=jo(-t[0]*r,-t[1]*r,0).invert,o=[];s(null,null,1,{point:function(e,t){o.push(e=n(e,t));e[0]*=i,e[1]*=i}});return{type:"Polygon",coordinates:[o]}}var e=[0,0],t,n=6,s;o.origin=function(t){if(!arguments.length)return e;e=t;return o};o.angle=function(e){if(!arguments.length)return t;s=Vs((t=+e)*r,n*r);return o};o.precision=function(e){if(!arguments.length)return n;s=Vs(t*r,(n=+e)*r);return o};return o.angle(90)};var to=Js(N,no,io);(n.geo.equirectangular=function(){return Po(uo).scale(250/e)}).raw=uo.invert=uo;var ao=Uo(function(e){return 1/e},Math.atan);(n.geo.gnomonic=function(){return Po(ao)}).raw=ao;n.geo.graticule=function(){function c(){return{type:"MultiLineString",coordinates:h()}}function h(){return n.range(Math.ceil(r/o)*o,e,o).map(a).concat(n.range(Math.ceil(s/u)*u,i,u).map(f))}var e,r,i,s,o=22.5,u=o,a,f,l=2.5;c.lines=function(){return h().map(function(e){return{type:"LineString",coordinates:e}})};c.outline=function(){return{type:"Polygon",coordinates:[a(r).concat(f(i).slice(1),a(e).reverse().slice(1),f(s).reverse().slice(1))]}};c.extent=function(t){if(!arguments.length)return[[r,s],[e,i]];r=+t[0][0],e=+t[1][0];s=+t[0][1],i=+t[1][1];r>e&&(t=r,r=e,e=t);s>i&&(t=s,s=i,i=t);return c.precision(l)};c.step=function(e){if(!arguments.length)return[o,u];o=+e[0],u=+e[1];return c};c.precision=function(t){if(!arguments.length)return l;l=+t;a=fo(s,i,l);f=lo(r,e,l);return c};return c.extent([[-180+t,-90+t],[180-t,90-t]])};n.geo.interpolate=function(e,t){return ho(e[0]*r,e[1]*r,t[0]*r,t[1]*r)};n.geo.greatArc=function(){function l(){var r=t||e.apply(this,arguments),u=s||i.apply(this,arguments),a=f||n.geo.interpolate(r,u),l=0,c=o/a.distance,h=[r];while((l+=c)<1)h.push(a(l));h.push(u);return{type:"LineString",coordinates:h}}var e=a,t,i=u,s,o=6*r,f;l.distance=function(){return(f||n.geo.interpolate(t||e.apply(this,arguments),s||i.apply(this,arguments))).distance};l.source=function(r){if(!arguments.length)return e;e=r,t=typeof r=="function"?null:r;f=t&&s?n.geo.interpolate(t,s):null;return l};l.target=function(e){if(!arguments.length)return i;i=e,s=typeof e=="function"?null:e;f=t&&s?n.geo.interpolate(t,s):null;return l};l.precision=function(e){if(!arguments.length)return o/r;o=e*r;return l};return l};po.invert=function(t,n){return[2*e*t,2*Math.atan(Math.exp(2*e*n))-e/2]};(n.geo.mercator=function(){return Po(po).scale(500)}).raw=po;var vo=Uo(function(){return 1},Math.asin);(n.geo.orthographic=function(){return Po(vo)}).raw=vo;n.geo.path=function(){function o(t){t&&n.geo.stream(t,i(s.pointRadius(typeof e=="function"?+e.apply(this,arguments):e)));return s.result()}var e=4.5,t,r,i,s;o.area=function(e){wo=0;n.geo.stream(e,i(So));return wo};o.centroid=function(e){Bs=Fs=Is=qs=0;n.geo.stream(e,i(To));return qs?[Fs/qs,Is/qs]:undefined};o.bounds=function(e){return Hs(i)(e)};o.projection=function(e){if(!arguments.length)return t;i=(t=e)?e.stream||go(e):T;return o};o.context=function(e){if(!arguments.length)return r;s=(r=e)==null?new yo:new bo(e);return o};o.pointRadius=function(t){if(!arguments.length)return e;e=typeof t=="function"?t:+t;return o};return o.projection(n.geo.albersUsa()).context(null)};var wo,Eo,So={point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){Eo=0;So.lineStart=xo},polygonEnd:function(){So.lineStart=So.lineEnd=So.point=zn;wo+=Math.abs(Eo/2)}},To={point:No,lineStart:Co,lineEnd:ko,polygonStart:function(){To.lineStart=Lo},polygonEnd:function(){To.point=No;To.lineStart=Co;To.lineEnd=ko}};n.geo.area=function(e){Ao=0;n.geo.stream(e,_o);return Ao};var Ao,Oo,Mo,_o={sphere:function(){Ao+=4*e},point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){Oo=1,Mo=0;_o.lineStart=Do},polygonEnd:function(){var t=2*Math.atan2(Mo,Oo);Ao+=t<0?4*e+t:t;_o.lineStart=_o.lineEnd=_o.point=zn}};n.geo.projection=Po;n.geo.projectionMutator=Ho;var Ro=Uo(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(n.geo.stereographic=function(){return Po(Ro)}).raw=Ro;n.geom={};n.geom.hull=function(e){if(e.length<3)return[];var t=e.length,n=t-1,r=[],i=[],s,o,u=0,a,f,l,c,h,p,d,v;for(s=1;s<t;++s)e[s][1]<e[u][1]?u=s:e[s][1]==e[u][1]&&(u=e[s][0]<e[u][0]?s:u);for(s=0;s<t;++s){if(s===u)continue;f=e[s][1]-e[u][1];a=e[s][0]-e[u][0];r.push({angle:Math.atan2(f,a),index:s})}r.sort(function(e,t){return e.angle-t.angle});d=r[0].angle;p=r[0].index;h=0;for(s=1;s<n;++s){o=r[s].index;if(d==r[s].angle){a=e[p][0]-e[u][0];f=e[p][1]-e[u][1];l=e[o][0]-e[u][0];c=e[o][1]-e[u][1];if(a*a+f*f>=l*l+c*c)r[s].index=-1;else{r[h].index=-1;d=r[s].angle;h=s;p=o}}else{d=r[s].angle;h=s;p=o}}i.push(u);for(s=0,o=0;s<2;++o)if(r[o].index!==-1){i.push(r[o].index);s++}v=i.length;for(;o<n;++o){if(r[o].index===-1)continue;while(!zo(i[v-2],i[v-1],r[o].index,e))--v;i[v++]=r[o].index}var m=[];for(s=0;s<v;++s)m.push(e[i[s]]);return m};n.geom.polygon=function(e){e.area=function(){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];while(++t<n)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r*.5};e.centroid=function(t){var n=-1,r=e.length,i=0,s=0,o,u=e[r-1],a;arguments.length||(t=-1/(6*e.area()));while(++n<r){o=u;u=e[n];a=o[0]*u[1]-u[0]*o[1];i+=(o[0]+u[0])*a;s+=(o[1]+u[1])*a}return[i*t,s*t]};e.clip=function(t){var n,r=-1,i=e.length,s,o,u=e[i-1],a,f,l;while(++r<i){n=t.slice();t.length=0;a=e[r];f=n[(o=n.length)-1];s=-1;while(++s<o){l=n[s];if(Wo(l,u,a)){Wo(f,u,a)||t.push(Xo(f,l,u,a));t.push(l)}else Wo(f,u,a)&&t.push(Xo(f,l,u,a));f=l}u=a}return t};return e};n.geom.voronoi=function(e){var r=e.map(function(){return[]}),i=1e6;$o(e,function(e){var t,n,s,o,u,a;if(e.a===1&&e.b>=0){t=e.ep.r;n=e.ep.l}else{t=e.ep.l;n=e.ep.r}if(e.a===1){u=t?t.y:-i;s=e.c-e.b*u;a=n?n.y:i;o=e.c-e.b*a}else{s=t?t.x:-i;u=e.c-e.a*s;o=n?n.x:i;a=e.c-e.a*o}var f=[s,u],l=[o,a];r[e.region.l.index].push(f,l);r[e.region.r.index].push(f,l)});r=r.map(function(r,i){var s=e[i][0],o=e[i][1],u=r.map(function(e){return Math.atan2(e[0]-s,e[1]-o)}),a=n.range(r.length).sort(function(e,t){return u[e]-u[t]});return a.filter(function(e,n){return!n||u[e]-u[a[n-1]]>t}).map(function(e){return r[e]})});r.forEach(function(n,r){var s=n.length;if(!s)return n.push([-i,-i],[-i,i],[i,i],[i,-i]);if(s>2)return;var o=e[r],u=n[0],a=n[1],f=o[0],l=o[1],c=u[0],h=u[1],p=a[0],d=a[1],v=Math.abs(p-c),m=d-h;if(Math.abs(m)<t){var g=l<h?-i:i;n.push([-i,g],[i,g])}else if(v<t){var y=f<c?-i:i;n.push([y,-i],[y,i])}else{var g=(p-c)*(h-l)<(c-f)*(d-h)?i:-i,b=Math.abs(m)-v;if(Math.abs(b)<t)n.push([m<0?g:-g,g]);else{b>0&&(g*=-1);n.push([-i,g],[i,g])}}});return r};var Vo={l:"r",r:"l"};n.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];$o(e,function(n){t[n.region.l.index].push(e[n.region.r.index])});t.forEach(function(t,r){var i=e[r],s=i[0],o=i[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-s,e[1]-o)});t.sort(function(e,t){return e.angle-t.angle});for(var u=0,a=t.length-1;u<a;u++)n.push([i,t[u],t[u+1]])});return n};n.geom.quadtree=function(e,t,n,r,i){function l(e,t,n,r,i,s){if(isNaN(t.x)||isNaN(t.y))return;if(e.leaf){var o=e.point;if(o)if(Math.abs(o.x-t.x)+Math.abs(o.y-t.y)<.01)c(e,t,n,r,i,s);else{e.point=null;c(e,o,n,r,i,s);c(e,t,n,r,i,s)}else e.point=t}else c(e,t,n,r,i,s)}function c(e,t,n,r,i,s){var o=(n+i)*.5,u=(r+s)*.5,a=t.x>=o,f=t.y>=u,c=(f<<1)+a;e.leaf=!1;e=e.nodes[c]||(e.nodes[c]=Jo());a?n=o:i=o;f?r=u:s=u;l(e,t,n,r,i,s)}var s,o=-1,u=e.length;if(arguments.length<5)if(arguments.length===3){i=n;r=t;n=t=0}else{t=n=Infinity;r=i=-Infinity;while(++o<u){s=e[o];s.x<t&&(t=s.x);s.y<n&&(n=s.y);s.x>r&&(r=s.x);s.y>i&&(i=s.y)}}var a=r-t,f=i-n;a>f?i=n+a:r=t+f;var h=Jo();h.add=function(e){l(h,e,t,n,r,i)};h.visit=function(e){Ko(e,h,t,n,r,i)};e.forEach(h.add);return h};n.time={};var Qo=Date,Go=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Yo.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Zo.setUTCDate.apply(this._,arguments)},setDay:function(){Zo.setUTCDay.apply(this._,arguments)},setFullYear:function(){Zo.setUTCFullYear.apply(this._,arguments)},setHours:function(){Zo.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Zo.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Zo.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Zo.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Zo.setUTCSeconds.apply(this._,arguments)},setTime:function(){Zo.setTime.apply(this._,arguments)}};var Zo=Date.prototype,eu="%a %b %e %X %Y",tu="%m/%d/%Y",nu="%H:%M:%S",ru=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],iu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],su=["January","February","March","April","May","June","July","August","September","October","November","December"],ou=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.time.format=function(e){function n(n){var r=[],i=-1,s=0,o,u,a;while(++i<t)if(e.charCodeAt(i)===37){r.push(e.substring(s,i));(u=gu[o=e.charAt(++i)])!=null&&(o=e.charAt(++i));if(a=yu[o])o=a(n,u==null?o==="e"?" ":"0":u);r.push(o);s=i+1}r.push(e.substring(s,i));return r.join("")}var t=e.length;n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=uu(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+n.p*12);var i=new Qo;i.setFullYear(n.y,n.m,n.d);i.setHours(n.H,n.M,n.S,n.L);return i};n.toString=function(){return e};return n};var cu=au(ru),hu=au(iu),pu=au(su),du=fu(su),vu=au(ou),mu=fu(ou),gu={"-":"",_:" ",0:"0"},yu={a:function(e){return iu[e.getDay()]},A:function(e){return ru[e.getDay()]},b:function(e){return ou[e.getMonth()]},B:function(e){return su[e.getMonth()]},c:n.time.format(eu),d:function(e,t){return lu(e.getDate(),t,2)},e:function(e,t){return lu(e.getDate(),t,2)},H:function(e,t){return lu(e.getHours(),t,2)},I:function(e,t){return lu(e.getHours()%12||12,t,2)},j:function(e,t){return lu(1+n.time.dayOfYear(e),t,3)},L:function(e,t){return lu(e.getMilliseconds(),t,3)},m:function(e,t){return lu(e.getMonth()+1,t,2)},M:function(e,t){return lu(e.getMinutes(),t,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e,t){return lu(e.getSeconds(),t,2)},U:function(e,t){return lu(n.time.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return lu(n.time.mondayOfYear(e),t,2)},x:n.time.format(tu),X:n.time.format(nu),y:function(e,t){return lu(e.getFullYear()%100,t,2)},Y:function(e,t){return lu(e.getFullYear()%1e4,t,4)},Z:Iu,"%":function(){return"%"}},bu={a:wu,A:Eu,b:Su,B:xu,c:Tu,d:Mu,e:Mu,H:_u,I:_u,L:Hu,m:Ou,M:Du,p:ju,S:Pu,x:Nu,X:Cu,y:Lu,Y:ku},Bu=/^\s*\d+/,Fu=n.map({am:0,pm:1});n.time.format.utc=function(e){function r(e){try{Qo=Yo;var n=new Qo;n._=e;return t(n)}finally{Qo=Date}}var t=n.time.format(e);r.parse=function(e){try{Qo=Yo;var n=t.parse(e);return n&&n._}finally{Qo=Date}};r.toString=t.toString;return r};var qu=n.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");n.time.format.iso=Date.prototype.toISOString&&+(new Date("2000-01-01T00:00:00.000Z"))?Ru:qu;Ru.parse=function(e){var t=new Date(e);return isNaN(t)?null:t};Ru.toString=qu.toString;n.time.second=Uu(function(e){return new Qo(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()});n.time.seconds=n.time.second.range;n.time.seconds.utc=n.time.second.utc.range;n.time.minute=Uu(function(e){return new Qo(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()});n.time.minutes=n.time.minute.range;n.time.minutes.utc=n.time.minute.utc.range;n.time.hour=Uu(function(e){var t=e.getTimezoneOffset()/60;return new Qo((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()});n.time.hours=n.time.hour.range;n.time.hours.utc=n.time.hour.utc.range;n.time.day=Uu(function(e){var t=new Qo(1970,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate());return t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1});n.time.days=n.time.day.range;n.time.days.utc=n.time.day.utc.range;n.time.dayOfYear=function(e){var t=n.time.year(e);return Math.floor((e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)};Go.forEach(function(e,t){e=e.toLowerCase();t=7-t;var r=n.time[e]=Uu(function(e){(e=n.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7);return e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var r=n.time.year(e).getDay();return Math.floor((n.time.dayOfYear(e)+(r+t)%7)/7)-(r!==t)});n.time[e+"s"]=r.range;n.time[e+"s"].utc=r.utc.range;n.time[e+"OfYear"]=function(e){var r=n.time.year(e).getDay();return Math.floor((n.time.dayOfYear(e)+(r+t)%7)/7)}});n.time.week=n.time.sunday;n.time.weeks=n.time.sunday.range;n.time.weeks.utc=n.time.sunday.utc.range;n.time.weekOfYear=n.time.sundayOfYear;n.time.month=Uu(function(e){e=n.time.day(e);e.setDate(1);return e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()});n.time.months=n.time.month.range;n.time.months.utc=n.time.month.utc.range;n.time.year=Uu(function(e){e=n.time.day(e);e.setMonth(0,1);return e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()});n.time.years=n.time.year.range;n.time.years.utc=n.time.year.utc.range;var Qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gu=[[n.time.second,1],[n.time.second,5],[n.time.second,15],[n.time.second,30],[n.time.minute,1],[n.time.minute,5],[n.time.minute,15],[n.time.minute,30],[n.time.hour,1],[n.time.hour,3],[n.time.hour,6],[n.time.hour,12],[n.time.day,1],[n.time.day,2],[n.time.week,1],[n.time.month,1],[n.time.month,3],[n.time.year,1]],Yu=[[n.time.format("%Y"),N],[n.time.format("%B"),function(e){return e.getMonth()}],[n.time.format("%b %d"),function(e){return e.getDate()!=1}],[n.time.format("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[n.time.format("%I %p"),function(e){return e.getHours()}],[n.time.format("%I:%M"),function(e){return e.getMinutes()}],[n.time.format(":%S"),function(e){return e.getSeconds()}],[n.time.format(".%L"),function(e){return e.getMilliseconds()}]],Zu=n.scale.linear(),ea=$u(Yu);Gu.year=function(e,t){return Zu.domain(e.map(Ku)).ticks(t).map(Ju)};n.time.scale=function(){return Wu(n.scale.linear(),Gu,ea)};var ta=Gu.map(function(e){return[e[0].utc,e[1]]}),na=[[n.time.format.utc("%Y"),N],[n.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[n.time.format.utc("%b %d"),function(e){return e.getUTCDate()!=1}],[n.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[n.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[n.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[n.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[n.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],ra=$u(na);ta.year=function(e,t){return Zu.domain(e.map(sa)).ticks(t).map(ia)};n.time.scale.utc=function(){return Wu(n.scale.linear(),ta,ra)};return n}();