function unChart(e,t){this.w=e;this.h=t;this.padding={left:30,right:30,top:30,bottom:30};this.data={data:"default"};this.speed=250;this.dScale=d3.time.scale().range([this.padding.left,this.w-this.padding.left-this.padding.right]);this.yScale=d3.scale.linear().range([this.h-this.padding.top,this.padding.bottom]);this.xAxis=d3.svg.axis().scale(this.dScale).orient("bottom").ticks(5);this.yAxis=d3.svg.axis().scale(this.yScale).orient("left").ticks(5);this.svg=null}p=unChart.prototype;p.getInfo=function(){return this.w+" , "+this.h+" : "+this.padding.left};p.build=function(e){e=typeof e!="undefined"?e:"body";this.svg=d3.select(e).append("svg").attr({width:this.w,height:this.h,"class":"chart"});this.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+(this.h-this.padding.bottom)+")").call(this.xAxis);this.svg.append("g").attr("class","y axis").attr("transform","translate("+this.padding.left+",0)").call(this.yAxis);this.svg.append("path").attr("class","line")};Object.defineProperty(p,"dataset",{get:function(){return this.data},set:function(e){this.data=e;console.log("DATASET RECEIVED");this.update()}});p.update=function(){ds=this.dScale;ys=this.yScale;sv=this.svg;line=d3.svg.line().x(function(e){return ds(e.jsDate)}).y(function(e){return ys(e.value)}).interpolate("basis");ds.domain(d3.extent(this.data,function(e,t){e.jsDate=new Date(e.date);return e.jsDate}));ys.domain([0,d3.max(this.data,function(e){return e.value})]);sv.select(".x.axis").transition().duration(this.speed).call(this.xAxis);sv.select(".y.axis").transition().duration(this.speed).call(this.yAxis);sv.select(".line").datum(this.data).transition().duration(this.speed).attr("class","line").attr("d",line);var e=sv.selectAll("circle").data(this.data);e.enter().append("circle");e.transition().duration(this.speed).attr("cx",function(e,t){return ds(e.jsDate)}).attr("cy",function(e){return ys(e.value)}).attr("r",function(e){return 1})};