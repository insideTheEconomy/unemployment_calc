<html lang="en">
<head>
	<meta charset="utf-8">
	<title>jQuery UI Button - Radios</title>
	<link rel="stylesheet" href="CSS/jquery-ui-custom.css">
	<script src="JS/jquery-1.9.1.js"></script>
	<script src="JS/jquery-ui-custom.js"></script>
	<link rel="stylesheet" href="CSS/style.css">
	<script>
	$(function() {
		$( "#gender" ).buttonset();
		$( "#education" ).buttonset();
		$( "#age" ).buttonset();
	});
	</script>
	
	<style>span{pointer-events:none}</style>
</head>
<body background="IMG/bg.jpg">
<div id = "buttonsets">
	<form>
		<div id="gender"  category = "g" >
			<input type="radio" _id = "0" id="g0" name="radio"><label for="g0">Choice 1</label></input>
			<input type="radio" _id = "1" id="g1" name="radio"><label for="g1">Choice 2</label></input>
			<input type="radio" _id = "2" id="g2" name="radio"><label for="g2">Choice 3</label></input>
		</div>
	</form>
	<form>
		<div id="education"  category = "ed" >
			<input type="radio" _id = "0" id="ed0" name="radio"><label for="ed0">Choice 1</label></input>
			<input type="radio" _id = "1" id="ed1" name="radio"><label for="ed1">Choice 2</label></input>
			<input type="radio" _id = "2" id="ed2" name="radio"><label for="ed2">Choice 3</label></input>
		</div>
	</form>
	<form>
		<div id="age" category = "ar" >
			<input type="radio" _id = "0" id="ar0" name="radio"><label for="ar0">Choice 1</label></input>
			<input type="radio" _id = "1" id="ar1" name="radio"><label for="ar1">Choice 2</label></input>
			<input type="radio" _id = "2" id="ar2" name="radio"><label for="ar2">Choice 3</label></input>
		</div>
	</form>
</div>

<script>
var ev;
var radioChecked = false;
var $tRadio;
var $tDiv;

	var ids = {g:0,ed:0,ar:0}
	$btns = $("#buttonsets")
	
	
	var isChecked = function(e){
		ev = e;
		$lab = $(e.target);
		var lab_sel = $lab.attr("for");
		$tRadio = $("[id="+lab_sel+"]");
		$tDiv = $tRadio.parent();
		radioChecked = $("[id="+lab_sel+"]").prop('checked');
	}
	
	var buildObj = function(e){
		var b = $(e.target).is("input");
		if (b){
			var val;
			var cat = $(e.target).parent().attr("category");
			if (radioChecked) {
		        $tRadio.prop('checked', false);
				$tDiv.buttonset("refresh");
				val =  0;
		    }else{
				val =  $(e.target).attr("_id");
			}
			ids[cat] = val;
			$.event.trigger({
						type: "BUTTON",
						ids: ids,
					});
			console.log(ids);
		}		
	}
	
	$("label").bind({
		"mousedown" : isChecked,
	
	});
	
	$("#buttonsets").bind({"click":buildObj});
	




</script>

</body>
</html>
